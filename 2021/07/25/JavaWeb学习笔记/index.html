<!DOCTYPE html>
<html lang="en">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="John Doe" />



<meta name="description" content="JavaWeb 学习笔记——参考资料：黑马程序员 JavaWeb 系列 涵盖内容：Junit测试、反射、注解、JDBC、连接池、Xml、Tomcat、Servlet、Filter、Listener、会话技术、Ajax、Json、Redis">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWeb 学习笔记">
<meta property="og:url" content="http://example.com/2021/07/25/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="宿醉的个人博客">
<meta property="og:description" content="JavaWeb 学习笔记——参考资料：黑马程序员 JavaWeb 系列 涵盖内容：Junit测试、反射、注解、JDBC、连接池、Xml、Tomcat、Servlet、Filter、Listener、会话技术、Ajax、Json、Redis">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-07-25T13:37:28.741Z">
<meta property="article:modified_time" content="2021-10-05T16:17:22.122Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="宿醉的个人博客" type="application/atom+xml">





    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">



<link rel="stylesheet" href="/css/style.css">




<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>JavaWeb 学习笔记 | 宿醉的个人博客</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: false
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js", "//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 5.3.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        <li>Friends</li>
                        
                        
                        <li>About Me</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa GitHub" target="_blank" rel="noopener" href="https://github.com/SuZui-cn" title="GitHub"></a>
                            
                                <a class="fa 简书" target="_blank" rel="noopener" href="https://www.jianshu.com/u/ca5afb7c0a71" title="简书"></a>
                            
                                <a class="fa CSDN" target="_blank" rel="noopener" href="https://blog.csdn.net/su_zui?spm=1000.2115.3001.5343" title="CSDN"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">不以物喜，不以己悲</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/SuZui-cn" title="GitHub"></a>
                            
                                <a class="fa 简书" target="_blank" href="https://www.jianshu.com/u/ca5afb7c0a71" title="简书"></a>
                            
                                <a class="fa CSDN" target="_blank" href="https://blog.csdn.net/su_zui?spm=1000.2115.3001.5343" title="CSDN"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap"><article id="post-JavaWeb学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2021/07/25/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="article-date">
      <time datetime="2021-07-25T13:37:28.741Z" itemprop="datePublished">2021-07-25</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JavaWeb 学习笔记
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="JavaWeb-学习笔记"><a href="#JavaWeb-学习笔记" class="headerlink" title="JavaWeb 学习笔记"></a>JavaWeb 学习笔记</h1><p>——参考资料：黑马程序员 JavaWeb 系列</p>
<p>涵盖内容：Junit测试、反射、注解、JDBC、连接池、Xml、Tomcat、Servlet、Filter、Listener、会话技术、Ajax、Json、Redis</p>
<a id="more"></a>



<h2 id="Junit"><a href="#Junit" class="headerlink" title="Junit"></a>Junit</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">* 测试分类：</span><br><span class="line">	1. 黑盒测试：不需要写代码，给输入值，看程序是否能够输出期望的值。</span><br><span class="line">	2. 白盒测试：需要写代码的。关注程序具体的执行流程。</span><br><span class="line"></span><br><span class="line">* Junit使用：白盒测试</span><br><span class="line">	* 步骤：</span><br><span class="line">		1. 定义一个测试类(测试用例)</span><br><span class="line">			* 建议：</span><br><span class="line">				* 测试类名：被测试的类名Test		CalculatorTest</span><br><span class="line">				* 包名：xxx.xxx.xx.test		cn.itcast.test</span><br><span class="line"></span><br><span class="line">		2. 定义测试方法：可以独立运行</span><br><span class="line">			* 建议：</span><br><span class="line">				* 方法名：test测试的方法名		testAdd()</span><br><span class="line">				* 返回值：void</span><br><span class="line">				* 参数列表：空参</span><br><span class="line"></span><br><span class="line">		3. 给方法加@Test</span><br><span class="line">		4. 导入junit依赖环境</span><br><span class="line"></span><br><span class="line">	* 判定结果：</span><br><span class="line">		* 红色：失败</span><br><span class="line">		* 绿色：成功</span><br><span class="line">		* 一般我们会使用断言操作来处理结果</span><br><span class="line">			* Assert.assertEquals(期望的结果,运算的结果);</span><br><span class="line"></span><br><span class="line">	* 补充：</span><br><span class="line">		* @Before:</span><br><span class="line">			* 修饰的方法会在测试方法之前被自动执行</span><br><span class="line">		* @After:</span><br><span class="line">			* 修饰的方法会在测试方法执行之后自动被执行</span><br></pre></td></tr></table></figure>
<h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 框架：半成品软件。可以在框架的基础上进行软件开发，简化编码</span><br><span class="line">* 反射：将类的各个组成部分封装为其他对象，这就是反射机制</span><br><span class="line">	* 好处：</span><br><span class="line">		1. 可以在程序运行过程中，操作这些对象。</span><br><span class="line">		2. 可以解耦，提高程序的可扩展性。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 获取Class对象的方式：</span><br><span class="line">	1. Class.forName(&quot;全类名&quot;)：将字节码文件加载进内存，返回Class对象</span><br><span class="line">		* 多用于配置文件，将类名定义在配置文件中。读取文件，加载类</span><br><span class="line">	2. 类名.class：通过类名的属性class获取</span><br><span class="line">		* 多用于参数的传递</span><br><span class="line">	3. 对象.getClass()：getClass()方法在Object类中定义着。</span><br><span class="line">		* 多用于对象的获取字节码的方式</span><br><span class="line"></span><br><span class="line">	* 结论：</span><br><span class="line">		同一个字节码文件(*.class)在一次程序运行过程中，只会被加载一次，不论通过哪一种方式获取的Class对象都是同一个。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">* Class对象功能：</span><br><span class="line">	* 获取功能：</span><br><span class="line">		1. 获取成员变量们</span><br><span class="line">			* Field[] getFields() ：获取所有public修饰的成员变量</span><br><span class="line">			* Field getField(String name)   获取指定名称的 public修饰的成员变量</span><br><span class="line"></span><br><span class="line">			* Field[] getDeclaredFields()  获取所有的成员变量，不考虑修饰符</span><br><span class="line">			* Field getDeclaredField(String name)</span><br><span class="line">		2. 获取构造方法们</span><br><span class="line">			* Constructor&lt;?&gt;[] getConstructors()</span><br><span class="line">			* Constructor&lt;T&gt; getConstructor(类&lt;?&gt;... parameterTypes)</span><br><span class="line"></span><br><span class="line">			* Constructor&lt;T&gt; getDeclaredConstructor(类&lt;?&gt;... parameterTypes)</span><br><span class="line">			* Constructor&lt;?&gt;[] getDeclaredConstructors()</span><br><span class="line">		3. 获取成员方法们：</span><br><span class="line">			* Method[] getMethods()</span><br><span class="line">			* Method getMethod(String name, 类&lt;?&gt;... parameterTypes)</span><br><span class="line"></span><br><span class="line">			* Method[] getDeclaredMethods()</span><br><span class="line">			* Method getDeclaredMethod(String name, 类&lt;?&gt;... parameterTypes)</span><br><span class="line"></span><br><span class="line">		4. 获取全类名</span><br><span class="line">			* String getName()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* Field：成员变量</span><br><span class="line">	* 操作：</span><br><span class="line">		1. 设置值</span><br><span class="line">			* void set(Object obj, Object value)</span><br><span class="line">		2. 获取值</span><br><span class="line">			* get(Object obj)</span><br><span class="line"></span><br><span class="line">		3. 忽略访问权限修饰符的安全检查</span><br><span class="line">			* setAccessible(true):暴力反射</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* Constructor:构造方法</span><br><span class="line">	* 创建对象：</span><br><span class="line">		* T newInstance(Object... initargs)</span><br><span class="line"></span><br><span class="line">		* 如果使用空参数构造方法创建对象，操作可以简化：Class对象的newInstance方法</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* Method：方法对象</span><br><span class="line">	* 执行方法：</span><br><span class="line">		* Object invoke(Object obj, Object... args)</span><br><span class="line"></span><br><span class="line">	* 获取方法名称：</span><br><span class="line">		* String getName:获取方法名</span><br></pre></td></tr></table></figure>
<h2 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 概念：说明程序的。给计算机看的</span><br><span class="line">* 注释：用文字描述程序的。给程序员看的</span><br><span class="line"></span><br><span class="line">* 定义：注解（Annotation），也叫元数据。一种代码级别的说明。它是JDK1.5及以后版本引入的一个特性，与类、接口、枚举是在同一个层次。它可以声明在包、类、字段、方法、局部变量、方法参数等的前面，用来对这些元素进行说明，注释。</span><br><span class="line">* 概念描述：</span><br><span class="line">	* JDK1.5之后的新特性</span><br><span class="line">	* 说明程序的</span><br><span class="line">	* 使用注解：@注解名称</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 作用分类：</span><br><span class="line">	①编写文档：通过代码里标识的注解生成文档【生成文档doc文档】</span><br><span class="line">	②代码分析：通过代码里标识的注解对代码进行分析【使用反射】</span><br><span class="line">	③编译检查：通过代码里标识的注解让编译器能够实现基本的编译检查【Override】</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">* JDK中预定义的一些注解</span><br><span class="line">	* @Override	：检测被该注解标注的方法是否是继承自父类(接口)的</span><br><span class="line">	* @Deprecated：该注解标注的内容，表示已过时</span><br><span class="line">	* @SuppressWarnings：压制警告</span><br><span class="line">		* 一般传递参数all  @SuppressWarnings(&quot;all&quot;)</span><br><span class="line"></span><br><span class="line">* 自定义注解</span><br><span class="line">	* 格式：</span><br><span class="line">		元注解</span><br><span class="line">		public @interface 注解名称&#123;</span><br><span class="line">			属性列表;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	* 本质：注解本质上就是一个接口，该接口默认继承Annotation接口</span><br><span class="line">		* public interface MyAnno extends java.lang.annotation.Annotation &#123;&#125;</span><br><span class="line"></span><br><span class="line">	* 属性：接口中的抽象方法</span><br><span class="line">		* 要求：</span><br><span class="line">			1. 属性的返回值类型有下列取值</span><br><span class="line">				* 基本数据类型</span><br><span class="line">				* String</span><br><span class="line">				* 枚举</span><br><span class="line">				* 注解</span><br><span class="line">				* 以上类型的数组</span><br><span class="line"></span><br><span class="line">			2. 定义了属性，在使用时需要给属性赋值</span><br><span class="line">				1. 如果定义属性时，使用default关键字给属性默认初始化值，则使用注解时，可以不进行属性的赋值。</span><br><span class="line">				2. 如果只有一个属性需要赋值，并且属性的名称是value，则value可以省略，直接定义值即可。</span><br><span class="line">				3. 数组赋值时，值使用&#123;&#125;包裹。如果数组中只有一个值，则&#123;&#125;可以省略</span><br><span class="line"></span><br><span class="line">	* 元注解：用于描述注解的注解</span><br><span class="line">		* @Target：描述注解能够作用的位置</span><br><span class="line">			* ElementType取值：</span><br><span class="line">				* TYPE：可以作用于类上</span><br><span class="line">				* METHOD：可以作用于方法上</span><br><span class="line">				* FIELD：可以作用于成员变量上</span><br><span class="line">		* @Retention：描述注解被保留的阶段</span><br><span class="line">			* @Retention(RetentionPolicy.RUNTIME)：当前被描述的注解，会保留到class字节码文件中，并被JVM读取到</span><br><span class="line">		* @Documented：描述注解是否被抽取到api文档中</span><br><span class="line">		* @Inherited：描述注解是否被子类继承</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 在程序使用(解析)注解：获取注解中定义的属性值</span><br><span class="line">	1. 获取注解定义的位置的对象  （Class，Method,Field）</span><br><span class="line">	2. 获取指定的注解</span><br><span class="line">		* getAnnotation(Class)</span><br><span class="line">		&#x2F;&#x2F;其实就是在内存中生成了一个该注解接口的子类实现对象</span><br><span class="line"></span><br><span class="line">	            public class ProImpl implements Pro&#123;</span><br><span class="line">	                public String className()&#123;</span><br><span class="line">	                    return &quot;cn.itcast.annotation.Demo1&quot;;</span><br><span class="line">	                &#125;</span><br><span class="line">	                public String methodName()&#123;</span><br><span class="line">	                    return &quot;show&quot;;</span><br><span class="line">	                &#125;</span><br><span class="line">	            &#125;</span><br><span class="line">	3. 调用注解中的抽象方法获取配置的属性值</span><br></pre></td></tr></table></figure>
<h2 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line">1. 概念：Java DataBase Connectivity  Java 数据库连接， Java语言操作数据库</span><br><span class="line">	* JDBC本质：其实是官方（sun公司）定义的一套操作所有关系型数据库的规则，即接口。各个数据库厂商去实现这套接口，提供数据库驱动jar包。我们可以使用这套接口（JDBC）编程，真正执行的代码是驱动jar包中的实现类。</span><br><span class="line"></span><br><span class="line">2. 快速入门：</span><br><span class="line">	* 步骤：</span><br><span class="line">		1. 导入驱动jar包 mysql-connector-java-5.1.37-bin.jar</span><br><span class="line">			1.复制mysql-connector-java-5.1.37-bin.jar到项目的libs目录下</span><br><span class="line">			2.右键--&gt;Add As Library</span><br><span class="line">		2. 注册驱动</span><br><span class="line">		3. 获取数据库连接对象 Connection</span><br><span class="line">		4. 定义sql</span><br><span class="line">		5. 获取执行sql语句的对象 Statement</span><br><span class="line">		6. 执行sql，接受返回结果</span><br><span class="line">		7. 处理结果</span><br><span class="line">		8. 释放资源</span><br><span class="line"></span><br><span class="line">	* 代码实现：</span><br><span class="line">	  	&#x2F;&#x2F;1. 导入驱动jar包</span><br><span class="line">        &#x2F;&#x2F;2.注册驱动</span><br><span class="line">        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">        &#x2F;&#x2F;3.获取数据库连接对象</span><br><span class="line">        Connection conn &#x3D; DriverManager.getConnection(&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;db3&quot;, &quot;root&quot;, &quot;root&quot;);</span><br><span class="line">        &#x2F;&#x2F;4.定义sql语句</span><br><span class="line">        String sql &#x3D; &quot;update account set balance &#x3D; 500 where id &#x3D; 1&quot;;</span><br><span class="line">        &#x2F;&#x2F;5.获取执行sql的对象 Statement</span><br><span class="line">        Statement stmt &#x3D; conn.createStatement();</span><br><span class="line">        &#x2F;&#x2F;6.执行sql</span><br><span class="line">        int count &#x3D; stmt.executeUpdate(sql);</span><br><span class="line">        &#x2F;&#x2F;7.处理结果</span><br><span class="line">        System.out.println(count);</span><br><span class="line">        &#x2F;&#x2F;8.释放资源</span><br><span class="line">        stmt.close();</span><br><span class="line">        conn.close();</span><br><span class="line"></span><br><span class="line">3. 详解各个对象：</span><br><span class="line">	1. DriverManager：驱动管理对象</span><br><span class="line">		* 功能：</span><br><span class="line">			1. 注册驱动：告诉程序该使用哪一个数据库驱动jar</span><br><span class="line">				static void registerDriver(Driver driver) :注册与给定的驱动程序 DriverManager 。 </span><br><span class="line">				写代码使用：  Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">				通过查看源码发现：在com.mysql.jdbc.Driver类中存在静态代码块</span><br><span class="line">				 static &#123;</span><br><span class="line">				        try &#123;</span><br><span class="line">				            java.sql.DriverManager.registerDriver(new Driver());</span><br><span class="line">				        &#125; catch (SQLException E) &#123;</span><br><span class="line">				            throw new RuntimeException(&quot;Can&#39;t register driver!&quot;);</span><br><span class="line">				        &#125;</span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">				注意：mysql5之后的驱动jar包可以省略注册驱动的步骤。</span><br><span class="line">			2. 获取数据库连接：</span><br><span class="line">				* 方法：static Connection getConnection(String url, String user, String password) </span><br><span class="line">				* 参数：</span><br><span class="line">					* url：指定连接的路径</span><br><span class="line">						* 语法：jdbc:mysql:&#x2F;&#x2F;ip地址(域名):端口号&#x2F;数据库名称</span><br><span class="line">						* 例子：jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;db3</span><br><span class="line">						* 细节：如果连接的是本机mysql服务器，并且mysql服务默认端口是3306，则url可以简写为：jdbc:mysql:&#x2F;&#x2F;&#x2F;数据库名称</span><br><span class="line">					* user：用户名</span><br><span class="line">					* password：密码 </span><br><span class="line">	2. Connection：数据库连接对象</span><br><span class="line">		1. 功能：</span><br><span class="line">			1. 获取执行sql 的对象</span><br><span class="line">				* Statement createStatement()</span><br><span class="line">				* PreparedStatement prepareStatement(String sql)  </span><br><span class="line">			2. 管理事务：</span><br><span class="line">				* 开启事务：setAutoCommit(boolean autoCommit) ：调用该方法设置参数为false，即开启事务</span><br><span class="line">				* 提交事务：commit() </span><br><span class="line">				* 回滚事务：rollback() </span><br><span class="line">	3. Statement：执行sql的对象</span><br><span class="line">		1. 执行sql</span><br><span class="line">			1. boolean execute(String sql) ：可以执行任意的sql 了解 </span><br><span class="line">			2. int executeUpdate(String sql) ：执行DML（insert、update、delete）语句、DDL(create，alter、drop)语句</span><br><span class="line">				* 返回值：影响的行数，可以通过这个影响的行数判断DML语句是否执行成功 返回值&gt;0的则执行成功，反之，则失败。</span><br><span class="line">			3. ResultSet executeQuery(String sql)  ：执行DQL（select)语句</span><br><span class="line">		2. 练习：</span><br><span class="line">			1. account表 添加一条记录</span><br><span class="line">			2. account表 修改记录</span><br><span class="line">			3. account表 删除一条记录</span><br><span class="line"></span><br><span class="line">			代码：</span><br><span class="line">				Statement stmt &#x3D; null;</span><br><span class="line">		        Connection conn &#x3D; null;</span><br><span class="line">		        try &#123;</span><br><span class="line">		            &#x2F;&#x2F;1. 注册驱动</span><br><span class="line">		            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">		            &#x2F;&#x2F;2. 定义sql</span><br><span class="line">		            String sql &#x3D; &quot;insert into account values(null,&#39;王五&#39;,3000)&quot;;</span><br><span class="line">		            &#x2F;&#x2F;3.获取Connection对象</span><br><span class="line">		            conn &#x3D; DriverManager.getConnection(&quot;jdbc:mysql:&#x2F;&#x2F;&#x2F;db3&quot;, &quot;root&quot;, &quot;root&quot;);</span><br><span class="line">		            &#x2F;&#x2F;4.获取执行sql的对象 Statement</span><br><span class="line">		            stmt &#x3D; conn.createStatement();</span><br><span class="line">		            &#x2F;&#x2F;5.执行sql</span><br><span class="line">		            int count &#x3D; stmt.executeUpdate(sql);&#x2F;&#x2F;影响的行数</span><br><span class="line">		            &#x2F;&#x2F;6.处理结果</span><br><span class="line">		            System.out.println(count);</span><br><span class="line">		            if(count &gt; 0)&#123;</span><br><span class="line">		                System.out.println(&quot;添加成功！&quot;);</span><br><span class="line">		            &#125;else&#123;</span><br><span class="line">		                System.out.println(&quot;添加失败！&quot;);</span><br><span class="line">		            &#125;</span><br><span class="line">		</span><br><span class="line">		        &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">		            e.printStackTrace();</span><br><span class="line">		        &#125; catch (SQLException e) &#123;</span><br><span class="line">		            e.printStackTrace();</span><br><span class="line">		        &#125;finally &#123;</span><br><span class="line">		            &#x2F;&#x2F;stmt.close();</span><br><span class="line">		            &#x2F;&#x2F;7. 释放资源</span><br><span class="line">		            &#x2F;&#x2F;避免空指针异常</span><br><span class="line">		            if(stmt !&#x3D; null)&#123;</span><br><span class="line">		                try &#123;</span><br><span class="line">		                    stmt.close();</span><br><span class="line">		                &#125; catch (SQLException e) &#123;</span><br><span class="line">		                    e.printStackTrace();</span><br><span class="line">		                &#125;</span><br><span class="line">		            &#125;</span><br><span class="line">		</span><br><span class="line">		            if(conn !&#x3D; null)&#123;</span><br><span class="line">		                try &#123;</span><br><span class="line">		                    conn.close();</span><br><span class="line">		                &#125; catch (SQLException e) &#123;</span><br><span class="line">		                    e.printStackTrace();</span><br><span class="line">		                &#125;</span><br><span class="line">		            &#125;</span><br><span class="line">		        &#125;</span><br><span class="line">			</span><br><span class="line">	4. ResultSet：结果集对象,封装查询结果</span><br><span class="line">		* boolean next(): 游标向下移动一行，判断当前行是否是最后一行末尾(是否有数据)，如果是，则返回false，如果不是则返回true</span><br><span class="line">		* getXxx(参数):获取数据</span><br><span class="line">			* Xxx：代表数据类型   如： int getInt() ,	String getString()</span><br><span class="line">			* 参数：</span><br><span class="line">				1. int：代表列的编号,从1开始   如： getString(1)</span><br><span class="line">				2. String：代表列名称。 如： getDouble(&quot;balance&quot;)</span><br><span class="line">		</span><br><span class="line">		* 注意：</span><br><span class="line">			* 使用步骤：</span><br><span class="line">				1. 游标向下移动一行</span><br><span class="line">				2. 判断是否有数据</span><br><span class="line">				3. 获取数据</span><br><span class="line"></span><br><span class="line">			   &#x2F;&#x2F;循环判断游标是否是最后一行末尾。</span><br><span class="line">	            while(rs.next())&#123;</span><br><span class="line">	                &#x2F;&#x2F;获取数据</span><br><span class="line">	                &#x2F;&#x2F;6.2 获取数据</span><br><span class="line">	                int id &#x3D; rs.getInt(1);</span><br><span class="line">	                String name &#x3D; rs.getString(&quot;name&quot;);</span><br><span class="line">	                double balance &#x3D; rs.getDouble(3);</span><br><span class="line">	</span><br><span class="line">	                System.out.println(id + &quot;---&quot; + name + &quot;---&quot; + balance);</span><br><span class="line">	            &#125;</span><br><span class="line"></span><br><span class="line">		* 练习：</span><br><span class="line">			* 定义一个方法，查询emp表的数据将其封装为对象，然后装载集合，返回。</span><br><span class="line">				1. 定义Emp类</span><br><span class="line">				2. 定义方法 public List&lt;Emp&gt; findAll()&#123;&#125;</span><br><span class="line">				3. 实现方法 select * from emp;</span><br><span class="line">					</span><br><span class="line">	5. PreparedStatement：执行sql的对象</span><br><span class="line">		1. SQL注入问题：在拼接sql时，有一些sql的特殊关键字参与字符串的拼接。会造成安全性问题</span><br><span class="line">			1. 输入用户随便，输入密码：a&#39; or &#39;a&#39; &#x3D; &#39;a</span><br><span class="line">			2. sql：select * from user where username &#x3D; &#39;fhdsjkf&#39; and password &#x3D; &#39;a&#39; or &#39;a&#39; &#x3D; &#39;a&#39; </span><br><span class="line"></span><br><span class="line">		2. 解决sql注入问题：使用PreparedStatement对象来解决</span><br><span class="line">		3. 预编译的SQL：参数使用?作为占位符</span><br><span class="line">		4. 步骤：</span><br><span class="line">			1. 导入驱动jar包 mysql-connector-java-5.1.37-bin.jar</span><br><span class="line">			2. 注册驱动</span><br><span class="line">			3. 获取数据库连接对象 Connection</span><br><span class="line">			4. 定义sql</span><br><span class="line">				* 注意：sql的参数使用？作为占位符。 如：select * from user where username &#x3D; ? and password &#x3D; ?;</span><br><span class="line">			5. 获取执行sql语句的对象 PreparedStatement  Connection.prepareStatement(String sql) </span><br><span class="line">			6. 给？赋值：</span><br><span class="line">				* 方法： setXxx(参数1,参数2)</span><br><span class="line">					* 参数1：？的位置编号 从1 开始</span><br><span class="line">					* 参数2：？的值</span><br><span class="line">			7. 执行sql，接受返回结果，不需要传递sql语句</span><br><span class="line">			8. 处理结果</span><br><span class="line">			9. 释放资源</span><br><span class="line"></span><br><span class="line">		5. 注意：后期都会使用PreparedStatement来完成增删改查的所有操作</span><br><span class="line">			1. 可以防止SQL注入</span><br><span class="line">			2. 效率更高</span><br></pre></td></tr></table></figure>
<h3 id="抽取JDBC工具类-：-JDBCUtils"><a href="#抽取JDBC工具类-：-JDBCUtils" class="headerlink" title="抽取JDBC工具类 ： JDBCUtils"></a>抽取JDBC工具类 ： JDBCUtils</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 目的：简化书写</span><br><span class="line">* 分析：</span><br><span class="line">	1. 注册驱动也抽取</span><br><span class="line">	2. 抽取一个方法获取连接对象</span><br><span class="line">		* 需求：不想传递参数（麻烦），还得保证工具类的通用性。</span><br><span class="line">		* 解决：配置文件</span><br><span class="line">			jdbc.properties</span><br><span class="line">				url&#x3D;</span><br><span class="line">				user&#x3D;</span><br><span class="line">				password&#x3D;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">	3. 抽取一个方法释放资源</span><br><span class="line"></span><br><span class="line">* 代码实现：</span><br><span class="line">	public class JDBCUtils &#123;</span><br><span class="line">    private static String url;</span><br><span class="line">    private static String user;</span><br><span class="line">    private static String password;</span><br><span class="line">    private static String driver;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 文件的读取，只需要读取一次即可拿到这些值。使用静态代码块</span><br><span class="line">     *&#x2F;</span><br><span class="line">    static&#123;</span><br><span class="line">        &#x2F;&#x2F;读取资源文件，获取值。</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            &#x2F;&#x2F;1. 创建Properties集合类。</span><br><span class="line">            Properties pro &#x3D; new Properties();</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;获取src路径下的文件的方式---&gt;ClassLoader 类加载器</span><br><span class="line">            ClassLoader classLoader &#x3D; JDBCUtils.class.getClassLoader();</span><br><span class="line">            URL res  &#x3D; classLoader.getResource(&quot;jdbc.properties&quot;);</span><br><span class="line">            String path &#x3D; res.getPath();</span><br><span class="line">            System.out.println(path);&#x2F;&#x2F;&#x2F;D:&#x2F;IdeaProjects&#x2F;itcast&#x2F;out&#x2F;production&#x2F;day04_jdbc&#x2F;jdbc.properties</span><br><span class="line">            &#x2F;&#x2F;2. 加载文件</span><br><span class="line">           &#x2F;&#x2F; pro.load(new FileReader(&quot;D:\\IdeaProjects\\itcast\\day04_jdbc\\src\\jdbc.properties&quot;));</span><br><span class="line">            pro.load(new FileReader(path));</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;3. 获取数据，赋值</span><br><span class="line">            url &#x3D; pro.getProperty(&quot;url&quot;);</span><br><span class="line">            user &#x3D; pro.getProperty(&quot;user&quot;);</span><br><span class="line">            password &#x3D; pro.getProperty(&quot;password&quot;);</span><br><span class="line">            driver &#x3D; pro.getProperty(&quot;driver&quot;);</span><br><span class="line">            &#x2F;&#x2F;4. 注册驱动</span><br><span class="line">            Class.forName(driver);</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 获取连接</span><br><span class="line"> * @return 连接对象</span><br><span class="line"> *&#x2F;</span><br><span class="line">public static Connection getConnection() throws SQLException &#123;</span><br><span class="line"></span><br><span class="line">    return DriverManager.getConnection(url, user, password);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * 释放资源</span><br><span class="line"> * @param stmt</span><br><span class="line"> * @param conn</span><br><span class="line"> *&#x2F;</span><br><span class="line">public static void close(Statement stmt,Connection conn)&#123;</span><br><span class="line">    if( stmt !&#x3D; null)&#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            stmt.close();</span><br><span class="line">        &#125; catch (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if( conn !&#x3D; null)&#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            conn.close();</span><br><span class="line">        &#125; catch (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">    &#x2F;**</span><br><span class="line">     * 释放资源</span><br><span class="line">     * @param stmt</span><br><span class="line">     * @param conn</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public static void close(ResultSet rs,Statement stmt, Connection conn)&#123;</span><br><span class="line">        if( rs !&#x3D; null)&#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125; catch (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if( stmt !&#x3D; null)&#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                stmt.close();</span><br><span class="line">            &#125; catch (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if( conn !&#x3D; null)&#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                conn.close();</span><br><span class="line">            &#125; catch (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">* 练习：</span><br><span class="line">	* 需求：</span><br><span class="line">		1. 通过键盘录入用户名和密码</span><br><span class="line">		2. 判断用户是否登录成功</span><br><span class="line">			* select * from user where username &#x3D; &quot;&quot; and password &#x3D; &quot;&quot;;</span><br><span class="line">			* 如果这个sql有查询结果，则成功，反之，则失败</span><br><span class="line"></span><br><span class="line">	* 步骤：</span><br><span class="line">		1. 创建数据库表 user</span><br><span class="line">			CREATE TABLE USER(</span><br><span class="line">				id INT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">				username VARCHAR(32),</span><br><span class="line">				PASSWORD VARCHAR(32)</span><br><span class="line">			</span><br><span class="line">			);</span><br><span class="line"></span><br><span class="line">			INSERT INTO USER VALUES(NULL,&#39;zhangsan&#39;,&#39;123&#39;);</span><br><span class="line">			INSERT INTO USER VALUES(NULL,&#39;lisi&#39;,&#39;234&#39;);</span><br><span class="line"></span><br><span class="line">		2. 代码实现：</span><br><span class="line">			public class JDBCDemo9 &#123;</span><br><span class="line"></span><br><span class="line">			    public static void main(String[] args) &#123;</span><br><span class="line">			        &#x2F;&#x2F;1.键盘录入，接受用户名和密码</span><br><span class="line">			        Scanner sc &#x3D; new Scanner(System.in);</span><br><span class="line">			        System.out.println(&quot;请输入用户名：&quot;);</span><br><span class="line">			        String username &#x3D; sc.nextLine();</span><br><span class="line">			        System.out.println(&quot;请输入密码：&quot;);</span><br><span class="line">			        String password &#x3D; sc.nextLine();</span><br><span class="line">			        &#x2F;&#x2F;2.调用方法</span><br><span class="line">			        boolean flag &#x3D; new JDBCDemo9().login(username, password);</span><br><span class="line">			        &#x2F;&#x2F;3.判断结果，输出不同语句</span><br><span class="line">			        if(flag)&#123;</span><br><span class="line">			            &#x2F;&#x2F;登录成功</span><br><span class="line">			            System.out.println(&quot;登录成功！&quot;);</span><br><span class="line">			        &#125;else&#123;</span><br><span class="line">			            System.out.println(&quot;用户名或密码错误！&quot;);</span><br><span class="line">			        &#125;</span><br><span class="line">			    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">    &#x2F;**</span><br><span class="line">     * 登录方法</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public boolean login(String username ,String password)&#123;</span><br><span class="line">        if(username &#x3D;&#x3D; null || password &#x3D;&#x3D; null)&#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;连接数据库判断是否登录成功</span><br><span class="line">        Connection conn &#x3D; null;</span><br><span class="line">        Statement stmt &#x3D;  null;</span><br><span class="line">        ResultSet rs &#x3D; null;</span><br><span class="line">        &#x2F;&#x2F;1.获取连接</span><br><span class="line">        try &#123;</span><br><span class="line">            conn &#x3D;  JDBCUtils.getConnection();</span><br><span class="line">            &#x2F;&#x2F;2.定义sql</span><br><span class="line">            String sql &#x3D; &quot;select * from user where username &#x3D; &#39;&quot;+username+&quot;&#39; and password &#x3D; &#39;&quot;+password+&quot;&#39; &quot;;</span><br><span class="line">            &#x2F;&#x2F;3.获取执行sql的对象</span><br><span class="line">            stmt &#x3D; conn.createStatement();</span><br><span class="line">            &#x2F;&#x2F;4.执行查询</span><br><span class="line">            rs &#x3D; stmt.executeQuery(sql);</span><br><span class="line">            &#x2F;&#x2F;5.判断</span><br><span class="line">           &#x2F;* if(rs.next())&#123;&#x2F;&#x2F;如果有下一行，则返回true</span><br><span class="line">                return true;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;*&#x2F;</span><br><span class="line">           return rs.next();&#x2F;&#x2F;如果有下一行，则返回true</span><br><span class="line"></span><br><span class="line">        &#125; catch (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;finally &#123;</span><br><span class="line">            JDBCUtils.close(rs,stmt,conn);</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="JDBC控制事务："><a href="#JDBC控制事务：" class="headerlink" title="JDBC控制事务："></a>JDBC控制事务：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">1. 事务：一个包含多个步骤的业务操作。如果这个业务操作被事务管理，则这多个步骤要么同时成功，要么同时失败。</span><br><span class="line">2. 操作：</span><br><span class="line">	1. 开启事务</span><br><span class="line">	2. 提交事务</span><br><span class="line">	3. 回滚事务</span><br><span class="line">3. 使用Connection对象来管理事务</span><br><span class="line">	* 开启事务：setAutoCommit(boolean autoCommit) ：调用该方法设置参数为false，即开启事务</span><br><span class="line">		* 在执行sql之前开启事务</span><br><span class="line">	* 提交事务：commit() </span><br><span class="line">		* 当所有sql都执行完提交事务</span><br><span class="line">	* 回滚事务：rollback() </span><br><span class="line">		* 在catch中回滚事务</span><br><span class="line"></span><br><span class="line">4. 代码：</span><br><span class="line">	public class JDBCDemo10 &#123;</span><br><span class="line"></span><br><span class="line">	    public static void main(String[] args) &#123;</span><br><span class="line">	        Connection conn &#x3D; null;</span><br><span class="line">	        PreparedStatement pstmt1 &#x3D; null;</span><br><span class="line">	        PreparedStatement pstmt2 &#x3D; null;</span><br><span class="line">	</span><br><span class="line">	        try &#123;</span><br><span class="line">	            &#x2F;&#x2F;1.获取连接</span><br><span class="line">	            conn &#x3D; JDBCUtils.getConnection();</span><br><span class="line">	            &#x2F;&#x2F;开启事务</span><br><span class="line">	            conn.setAutoCommit(false);</span><br><span class="line">	</span><br><span class="line">	            &#x2F;&#x2F;2.定义sql</span><br><span class="line">	            &#x2F;&#x2F;2.1 张三 - 500</span><br><span class="line">	            String sql1 &#x3D; &quot;update account set balance &#x3D; balance - ? where id &#x3D; ?&quot;;</span><br><span class="line">	            &#x2F;&#x2F;2.2 李四 + 500</span><br><span class="line">	            String sql2 &#x3D; &quot;update account set balance &#x3D; balance + ? where id &#x3D; ?&quot;;</span><br><span class="line">	            &#x2F;&#x2F;3.获取执行sql对象</span><br><span class="line">	            pstmt1 &#x3D; conn.prepareStatement(sql1);</span><br><span class="line">	            pstmt2 &#x3D; conn.prepareStatement(sql2);</span><br><span class="line">	            &#x2F;&#x2F;4. 设置参数</span><br><span class="line">	            pstmt1.setDouble(1,500);</span><br><span class="line">	            pstmt1.setInt(2,1);</span><br><span class="line">	</span><br><span class="line">	            pstmt2.setDouble(1,500);</span><br><span class="line">	            pstmt2.setInt(2,2);</span><br><span class="line">	            &#x2F;&#x2F;5.执行sql</span><br><span class="line">	            pstmt1.executeUpdate();</span><br><span class="line">	            &#x2F;&#x2F; 手动制造异常</span><br><span class="line">	            int i &#x3D; 3&#x2F;0;</span><br><span class="line">	</span><br><span class="line">	            pstmt2.executeUpdate();</span><br><span class="line">	            &#x2F;&#x2F;提交事务</span><br><span class="line">	            conn.commit();</span><br><span class="line">	        &#125; catch (Exception e) &#123;</span><br><span class="line">	            &#x2F;&#x2F;事务回滚</span><br><span class="line">	            try &#123;</span><br><span class="line">	                if(conn !&#x3D; null) &#123;</span><br><span class="line">	                    conn.rollback();</span><br><span class="line">	                &#125;</span><br><span class="line">	            &#125; catch (SQLException e1) &#123;</span><br><span class="line">	                e1.printStackTrace();</span><br><span class="line">	            &#125;</span><br><span class="line">	            e.printStackTrace();</span><br><span class="line">	        &#125;finally &#123;</span><br><span class="line">	            JDBCUtils.close(pstmt1,conn);</span><br><span class="line">	            JDBCUtils.close(pstmt2,null);</span><br><span class="line">	        &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h2 id="数据库连接池"><a href="#数据库连接池" class="headerlink" title="数据库连接池"></a>数据库连接池</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. 概念：其实就是一个容器(集合)，存放数据库连接的容器。</span><br><span class="line">	    当系统初始化好后，容器被创建，容器中会申请一些连接对象，当用户来访问数据库时，从容器中获取连接对象，用户访问完之后，会将连接对象归还给容器。</span><br><span class="line"></span><br><span class="line">2. 好处：</span><br><span class="line">	1. 节约资源</span><br><span class="line">	2. 用户访问高效</span><br><span class="line"></span><br><span class="line">3. 实现：</span><br><span class="line">	1. 标准接口：DataSource   javax.sql包下的</span><br><span class="line">		1. 方法：</span><br><span class="line">			* 获取连接：getConnection()</span><br><span class="line">			* 归还连接：Connection.close()。如果连接对象Connection是从连接池中获取的，那么调用Connection.close()方法，则不会再关闭连接了。而是归还连接</span><br><span class="line"></span><br><span class="line">	2. 一般我们不去实现它，有数据库厂商来实现</span><br><span class="line">		1. C3P0：数据库连接池技术</span><br><span class="line">		2. Druid：数据库连接池实现技术，由阿里巴巴提供的</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">4. C3P0：数据库连接池技术</span><br><span class="line">	* 步骤：</span><br><span class="line">		1. 导入jar包 (两个) c3p0-0.9.5.2.jar mchange-commons-java-0.2.12.jar ，</span><br><span class="line">			* 不要忘记导入数据库驱动jar包</span><br><span class="line">		2. 定义配置文件：</span><br><span class="line">			* 名称： c3p0.properties 或者 c3p0-config.xml</span><br><span class="line">			* 路径：直接将文件放在src目录下即可。</span><br><span class="line"></span><br><span class="line">		3. 创建核心对象 数据库连接池对象 ComboPooledDataSource</span><br><span class="line">		4. 获取连接： getConnection</span><br><span class="line">	* 代码：</span><br><span class="line">		 &#x2F;&#x2F;1.创建数据库连接池对象</span><br><span class="line">        DataSource ds  &#x3D; new ComboPooledDataSource();</span><br><span class="line">        &#x2F;&#x2F;2. 获取连接对象</span><br><span class="line">        Connection conn &#x3D; ds.getConnection();</span><br><span class="line">5. Druid：数据库连接池实现技术，由阿里巴巴提供的</span><br><span class="line">	1. 步骤：</span><br><span class="line">		1. 导入jar包 druid-1.0.9.jar</span><br><span class="line">		2. 定义配置文件：</span><br><span class="line">			* 是properties形式的</span><br><span class="line">			* 可以叫任意名称，可以放在任意目录下</span><br><span class="line">		3. 加载配置文件。Properties</span><br><span class="line">		4. 获取数据库连接池对象：通过工厂来来获取  DruidDataSourceFactory</span><br><span class="line">		5. 获取连接：getConnection</span><br><span class="line">	* 代码：</span><br><span class="line">		 &#x2F;&#x2F;3.加载配置文件</span><br><span class="line">        Properties pro &#x3D; new Properties();</span><br><span class="line">        InputStream is &#x3D; DruidDemo.class.getClassLoader().getResourceAsStream(&quot;druid.properties&quot;);</span><br><span class="line">        pro.load(is);</span><br><span class="line">        &#x2F;&#x2F;4.获取连接池对象</span><br><span class="line">        DataSource ds &#x3D; DruidDataSourceFactory.createDataSource(pro);</span><br><span class="line">        &#x2F;&#x2F;5.获取连接</span><br><span class="line">        Connection conn &#x3D; ds.getConnection();</span><br><span class="line">	2. 定义工具类</span><br><span class="line">		1. 定义一个类 JDBCUtils</span><br><span class="line">		2. 提供静态代码块加载配置文件，初始化连接池对象</span><br><span class="line">		3. 提供方法</span><br><span class="line">			1. 获取连接方法：通过数据库连接池获取连接</span><br><span class="line">			2. 释放资源</span><br><span class="line">			3. 获取连接池的方法</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">* 代码：</span><br><span class="line">	public class JDBCUtils &#123;</span><br><span class="line"></span><br><span class="line">	    &#x2F;&#x2F;1.定义成员变量 DataSource</span><br><span class="line">	    private static DataSource ds ;</span><br><span class="line">	</span><br><span class="line">	    static&#123;</span><br><span class="line">	        try &#123;</span><br><span class="line">	            &#x2F;&#x2F;1.加载配置文件</span><br><span class="line">	            Properties pro &#x3D; new Properties();</span><br><span class="line">	            pro.load(JDBCUtils.class.getClassLoader().getResourceAsStream(&quot;druid.properties&quot;));</span><br><span class="line">	            &#x2F;&#x2F;2.获取DataSource</span><br><span class="line">	            ds &#x3D; DruidDataSourceFactory.createDataSource(pro);</span><br><span class="line">	        &#125; catch (IOException e) &#123;</span><br><span class="line">	            e.printStackTrace();</span><br><span class="line">	        &#125; catch (Exception e) &#123;</span><br><span class="line">	            e.printStackTrace();</span><br><span class="line">	        &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	</span><br><span class="line">	    &#x2F;**</span><br><span class="line">	     * 获取连接</span><br><span class="line">	     *&#x2F;</span><br><span class="line">	    public static Connection getConnection() throws SQLException &#123;</span><br><span class="line">	        return ds.getConnection();</span><br><span class="line">	    &#125;</span><br><span class="line">	</span><br><span class="line">	    &#x2F;**</span><br><span class="line">	     * 释放资源</span><br><span class="line">	     *&#x2F;</span><br><span class="line">	    public static void close(Statement stmt,Connection conn)&#123;</span><br><span class="line">	       &#x2F;* if(stmt !&#x3D; null)&#123;</span><br><span class="line">	            try &#123;</span><br><span class="line">	                stmt.close();</span><br><span class="line">	            &#125; catch (SQLException e) &#123;</span><br><span class="line">	                e.printStackTrace();</span><br><span class="line">	            &#125;</span><br><span class="line">	        &#125;</span><br><span class="line">	</span><br><span class="line">	        if(conn !&#x3D; null)&#123;</span><br><span class="line">	            try &#123;</span><br><span class="line">	                conn.close();&#x2F;&#x2F;归还连接</span><br><span class="line">	            &#125; catch (SQLException e) &#123;</span><br><span class="line">	                e.printStackTrace();</span><br><span class="line">	            &#125;</span><br><span class="line">	        &#125;*&#x2F;</span><br><span class="line">	</span><br><span class="line">	       close(null,stmt,conn);</span><br><span class="line">	    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">    public static void close(ResultSet rs , Statement stmt, Connection conn)&#123;</span><br><span class="line">    		        if(rs !&#x3D; null)&#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125; catch (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        		        if(stmt !&#x3D; null)&#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                stmt.close();</span><br><span class="line">            &#125; catch (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if(conn !&#x3D; null)&#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                conn.close();&#x2F;&#x2F;归还连接</span><br><span class="line">            &#125; catch (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 获取连接池方法</span><br><span class="line">     *&#x2F;</span><br><span class="line"></span><br><span class="line">    public static DataSource getDataSource()&#123;</span><br><span class="line">        return  ds;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="JDBC-template"><a href="#JDBC-template" class="headerlink" title="JDBC template"></a>JDBC template</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line">* Spring框架对JDBC的简单封装。提供了一个JDBCTemplate对象简化JDBC的开发</span><br><span class="line">* 步骤：</span><br><span class="line">	1. 导入jar包</span><br><span class="line">	2. 创建JdbcTemplate对象。依赖于数据源DataSource</span><br><span class="line">		* JdbcTemplate template &#x3D; new JdbcTemplate(ds);</span><br><span class="line"></span><br><span class="line">	3. 调用JdbcTemplate的方法来完成CRUD的操作</span><br><span class="line">		* update():执行DML语句。增、删、改语句</span><br><span class="line">		* queryForMap():查询结果将结果集封装为map集合，将列名作为key，将值作为value 将这条记录封装为一个map集合</span><br><span class="line">			* 注意：这个方法查询的结果集长度只能是1</span><br><span class="line">		* queryForList():查询结果将结果集封装为list集合</span><br><span class="line">			* 注意：将每一条记录封装为一个Map集合，再将Map集合装载到List集合中</span><br><span class="line">		* query():查询结果，将结果封装为JavaBean对象</span><br><span class="line">			* query的参数：RowMapper</span><br><span class="line">				* 一般我们使用BeanPropertyRowMapper实现类。可以完成数据到JavaBean的自动封装</span><br><span class="line">				* new BeanPropertyRowMapper&lt;类型&gt;(类型.class)</span><br><span class="line">		* queryForObject：查询结果，将结果封装为对象</span><br><span class="line">			* 一般用于聚合函数的查询</span><br><span class="line"></span><br><span class="line">	4. 练习：</span><br><span class="line">		* 需求：</span><br><span class="line">			1. 修改1号数据的 salary 为 10000</span><br><span class="line">			2. 添加一条记录</span><br><span class="line">			3. 删除刚才添加的记录</span><br><span class="line">			4. 查询id为1的记录，将其封装为Map集合</span><br><span class="line">			5. 查询所有记录，将其封装为List</span><br><span class="line">			6. 查询所有记录，将其封装为Emp对象的List集合</span><br><span class="line">			7. 查询总记录数</span><br><span class="line"></span><br><span class="line">		* 代码：</span><br><span class="line">			</span><br><span class="line">			import cn.itcast.domain.Emp;</span><br><span class="line">			import cn.itcast.utils.JDBCUtils;</span><br><span class="line">			import org.junit.Test;</span><br><span class="line">			import org.springframework.jdbc.core.BeanPropertyRowMapper;</span><br><span class="line">			import org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line">			import org.springframework.jdbc.core.RowMapper;</span><br><span class="line">			</span><br><span class="line">			import java.sql.Date;</span><br><span class="line">			import java.sql.ResultSet;</span><br><span class="line">			import java.sql.SQLException;</span><br><span class="line">			import java.util.List;</span><br><span class="line">			import java.util.Map;</span><br><span class="line">			</span><br><span class="line">			public class JdbcTemplateDemo2 &#123;</span><br><span class="line">			</span><br><span class="line">			    &#x2F;&#x2F;Junit单元测试，可以让方法独立执行</span><br><span class="line">			      &#x2F;&#x2F;1. 获取JDBCTemplate对象</span><br><span class="line">			    private JdbcTemplate template &#x3D; new JdbcTemplate(JDBCUtils.getDataSource());</span><br><span class="line">			    &#x2F;**</span><br><span class="line">			     * 1. 修改1号数据的 salary 为 10000</span><br><span class="line">			     *&#x2F;</span><br><span class="line">			    @Test</span><br><span class="line">			    public void test1()&#123;</span><br><span class="line">			</span><br><span class="line">			        &#x2F;&#x2F;2. 定义sql</span><br><span class="line">			        String sql &#x3D; &quot;update emp set salary &#x3D; 10000 where id &#x3D; 1001&quot;;</span><br><span class="line">			        &#x2F;&#x2F;3. 执行sql</span><br><span class="line">			        int count &#x3D; template.update(sql);</span><br><span class="line">			        System.out.println(count);</span><br><span class="line">			    &#125;</span><br><span class="line">			</span><br><span class="line">			    &#x2F;**</span><br><span class="line">			     * 2. 添加一条记录</span><br><span class="line">			     *&#x2F;</span><br><span class="line">			    @Test</span><br><span class="line">			    public void test2()&#123;</span><br><span class="line">			        String sql &#x3D; &quot;insert into emp(id,ename,dept_id) values(?,?,?)&quot;;</span><br><span class="line">			        int count &#x3D; template.update(sql, 1015, &quot;郭靖&quot;, 10);</span><br><span class="line">			        System.out.println(count);</span><br><span class="line">			</span><br><span class="line">			    &#125;</span><br><span class="line">			</span><br><span class="line">			    &#x2F;**</span><br><span class="line">			     * 3.删除刚才添加的记录</span><br><span class="line">			     *&#x2F;</span><br><span class="line">			    @Test</span><br><span class="line">			    public void test3()&#123;</span><br><span class="line">			        String sql &#x3D; &quot;delete from emp where id &#x3D; ?&quot;;</span><br><span class="line">			        int count &#x3D; template.update(sql, 1015);</span><br><span class="line">			        System.out.println(count);</span><br><span class="line">			    &#125;</span><br><span class="line">			</span><br><span class="line">			    &#x2F;**</span><br><span class="line">			     * 4.查询id为1001的记录，将其封装为Map集合</span><br><span class="line">			     * 注意：这个方法查询的结果集长度只能是1</span><br><span class="line">			     *&#x2F;</span><br><span class="line">			    @Test</span><br><span class="line">			    public void test4()&#123;</span><br><span class="line">			        String sql &#x3D; &quot;select * from emp where id &#x3D; ? or id &#x3D; ?&quot;;</span><br><span class="line">			        Map&lt;String, Object&gt; map &#x3D; template.queryForMap(sql, 1001,1002);</span><br><span class="line">			        System.out.println(map);</span><br><span class="line">			        &#x2F;&#x2F;&#123;id&#x3D;1001, ename&#x3D;孙悟空, job_id&#x3D;4, mgr&#x3D;1004, joindate&#x3D;2000-12-17, salary&#x3D;10000.00, bonus&#x3D;null, dept_id&#x3D;20&#125;</span><br><span class="line">			</span><br><span class="line">			    &#125;</span><br><span class="line">			</span><br><span class="line">			    &#x2F;**</span><br><span class="line">			     * 5. 查询所有记录，将其封装为List</span><br><span class="line">			     *&#x2F;</span><br><span class="line">			    @Test</span><br><span class="line">			    public void test5()&#123;</span><br><span class="line">			        String sql &#x3D; &quot;select * from emp&quot;;</span><br><span class="line">			        List&lt;Map&lt;String, Object&gt;&gt; list &#x3D; template.queryForList(sql);</span><br><span class="line">			</span><br><span class="line">			        for (Map&lt;String, Object&gt; stringObjectMap : list) &#123;</span><br><span class="line">			            System.out.println(stringObjectMap);</span><br><span class="line">			        &#125;</span><br><span class="line">			    &#125;</span><br><span class="line">			</span><br><span class="line">			    &#x2F;**</span><br><span class="line">			     * 6. 查询所有记录，将其封装为Emp对象的List集合</span><br><span class="line">			     *&#x2F;</span><br><span class="line">			</span><br><span class="line">			    @Test</span><br><span class="line">			    public void test6()&#123;</span><br><span class="line">			        String sql &#x3D; &quot;select * from emp&quot;;</span><br><span class="line">			        List&lt;Emp&gt; list &#x3D; template.query(sql, new RowMapper&lt;Emp&gt;() &#123;</span><br><span class="line">			</span><br><span class="line">			            @Override</span><br><span class="line">			            public Emp mapRow(ResultSet rs, int i) throws SQLException &#123;</span><br><span class="line">			                Emp emp &#x3D; new Emp();</span><br><span class="line">			                int id &#x3D; rs.getInt(&quot;id&quot;);</span><br><span class="line">			                String ename &#x3D; rs.getString(&quot;ename&quot;);</span><br><span class="line">			                int job_id &#x3D; rs.getInt(&quot;job_id&quot;);</span><br><span class="line">			                int mgr &#x3D; rs.getInt(&quot;mgr&quot;);</span><br><span class="line">			                Date joindate &#x3D; rs.getDate(&quot;joindate&quot;);</span><br><span class="line">			                double salary &#x3D; rs.getDouble(&quot;salary&quot;);</span><br><span class="line">			                double bonus &#x3D; rs.getDouble(&quot;bonus&quot;);</span><br><span class="line">			                int dept_id &#x3D; rs.getInt(&quot;dept_id&quot;);</span><br><span class="line">			</span><br><span class="line">			                emp.setId(id);</span><br><span class="line">			                emp.setEname(ename);</span><br><span class="line">			                emp.setJob_id(job_id);</span><br><span class="line">			                emp.setMgr(mgr);</span><br><span class="line">			                emp.setJoindate(joindate);</span><br><span class="line">			                emp.setSalary(salary);</span><br><span class="line">			                emp.setBonus(bonus);</span><br><span class="line">			                emp.setDept_id(dept_id);</span><br><span class="line">			</span><br><span class="line">			                return emp;</span><br><span class="line">			            &#125;</span><br><span class="line">			        &#125;);</span><br><span class="line">			        for (Emp emp : list) &#123;</span><br><span class="line">			            System.out.println(emp);</span><br><span class="line">			        &#125;</span><br><span class="line">			    &#125;</span><br><span class="line">			</span><br><span class="line">			    &#x2F;**</span><br><span class="line">			     * 6. 查询所有记录，将其封装为Emp对象的List集合</span><br><span class="line">			     *&#x2F;</span><br><span class="line">			</span><br><span class="line">			    @Test</span><br><span class="line">			    public void test6_2()&#123;</span><br><span class="line">			        String sql &#x3D; &quot;select * from emp&quot;;</span><br><span class="line">			        List&lt;Emp&gt; list &#x3D; template.query(sql, new BeanPropertyRowMapper&lt;Emp&gt;(Emp.class));</span><br><span class="line">			        for (Emp emp : list) &#123;</span><br><span class="line">			            System.out.println(emp);</span><br><span class="line">			        &#125;</span><br><span class="line">			    &#125;</span><br><span class="line">			</span><br><span class="line">			    &#x2F;**</span><br><span class="line">			     * 7. 查询总记录数</span><br><span class="line">			     *&#x2F;</span><br><span class="line">			</span><br><span class="line">			    @Test</span><br><span class="line">			    public void test7()&#123;</span><br><span class="line">			        String sql &#x3D; &quot;select count(id) from emp&quot;;</span><br><span class="line">			        Long total &#x3D; template.queryForObject(sql, Long.class);</span><br><span class="line">			        System.out.println(total);</span><br><span class="line">			    &#125;</span><br><span class="line">			</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Xml"><a href="#Xml" class="headerlink" title="Xml"></a>Xml</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">1. 概念：Extensible Markup Language 可扩展标记语言</span><br><span class="line">	* 可扩展：标签都是自定义的。 &lt;user&gt;  &lt;student&gt;</span><br><span class="line"></span><br><span class="line">	* 功能</span><br><span class="line">		* 存储数据</span><br><span class="line">			1. 配置文件</span><br><span class="line">			2. 在网络中传输</span><br><span class="line">	* xml与html的区别</span><br><span class="line">		1. xml标签都是自定义的，html标签是预定义。</span><br><span class="line">		2. xml的语法严格，html语法松散</span><br><span class="line">		3. xml是存储数据的，html是展示数据</span><br><span class="line"></span><br><span class="line">	* w3c:万维网联盟</span><br><span class="line"></span><br><span class="line">2. 语法：</span><br><span class="line">	* 基本语法：</span><br><span class="line">		1. xml文档的后缀名 .xml</span><br><span class="line">		2. xml第一行必须定义为文档声明</span><br><span class="line">		3. xml文档中有且仅有一个根标签</span><br><span class="line">		4. 属性值必须使用引号(单双都可)引起来</span><br><span class="line">		5. 标签必须正确关闭</span><br><span class="line">		6. xml标签名称区分大小写</span><br><span class="line">	* 快速入门：</span><br><span class="line">		&lt;?xml version&#x3D;&#39;1.0&#39; ?&gt;</span><br><span class="line">		&lt;users&gt;</span><br><span class="line">			&lt;user id&#x3D;&#39;1&#39;&gt;</span><br><span class="line">				&lt;name&gt;zhangsan&lt;&#x2F;name&gt;</span><br><span class="line">				&lt;age&gt;23&lt;&#x2F;age&gt;</span><br><span class="line">				&lt;gender&gt;male&lt;&#x2F;gender&gt;</span><br><span class="line">				&lt;br&#x2F;&gt;</span><br><span class="line">			&lt;&#x2F;user&gt;</span><br><span class="line">			</span><br><span class="line">			&lt;user id&#x3D;&#39;2&#39;&gt;</span><br><span class="line">				&lt;name&gt;lisi&lt;&#x2F;name&gt;</span><br><span class="line">				&lt;age&gt;24&lt;&#x2F;age&gt;</span><br><span class="line">				&lt;gender&gt;female&lt;&#x2F;gender&gt;</span><br><span class="line">			&lt;&#x2F;user&gt;</span><br><span class="line">		&lt;&#x2F;users&gt;</span><br><span class="line">		</span><br><span class="line">	* 组成部分：</span><br><span class="line">		1. 文档声明</span><br><span class="line">			1. 格式：&lt;?xml 属性列表 ?&gt;</span><br><span class="line">			2. 属性列表：</span><br><span class="line">				* version：版本号，必须的属性</span><br><span class="line">				* encoding：编码方式。告知解析引擎当前文档使用的字符集，默认值：ISO-8859-1</span><br><span class="line">				* standalone：是否独立</span><br><span class="line">					* 取值：</span><br><span class="line">						* yes：不依赖其他文件</span><br><span class="line">						* no：依赖其他文件</span><br><span class="line">		2. 指令(了解)：结合css的</span><br><span class="line">			* &lt;?xml-stylesheet type&#x3D;&quot;text&#x2F;css&quot; href&#x3D;&quot;a.css&quot; ?&gt;</span><br><span class="line">		3. 标签：标签名称自定义的</span><br><span class="line">			* 规则：</span><br><span class="line">				* 名称可以包含字母、数字以及其他的字符 </span><br><span class="line">				* 名称不能以数字或者标点符号开始 </span><br><span class="line">				* 名称不能以字母 xml（或者 XML、Xml 等等）开始 </span><br><span class="line">				* 名称不能包含空格 </span><br><span class="line"></span><br><span class="line">		4. 属性：</span><br><span class="line">			id属性值唯一</span><br><span class="line">		5. 文本：</span><br><span class="line">			* CDATA区：在该区域中的数据会被原样展示</span><br><span class="line">				* 格式：  &lt;![CDATA[ 数据 ]]&gt;</span><br><span class="line">	* 约束：规定xml文档的书写规则</span><br><span class="line">		* 作为框架的使用者(程序员)：</span><br><span class="line">			1. 能够在xml中引入约束文档</span><br><span class="line">			2. 能够简单的读懂约束文档</span><br><span class="line">		</span><br><span class="line">		* 分类：</span><br><span class="line">			1. DTD:一种简单的约束技术</span><br><span class="line">			2. Schema:一种复杂的约束技术</span><br></pre></td></tr></table></figure>
<h3 id="Dtd"><a href="#Dtd" class="headerlink" title="Dtd"></a>Dtd</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* DTD：</span><br><span class="line">	* 引入dtd文档到xml文档中</span><br><span class="line">		* 内部dtd：将约束规则定义在xml文档中</span><br><span class="line">		* 外部dtd：将约束的规则定义在外部的dtd文件中</span><br><span class="line">			* 本地：&lt;!DOCTYPE 根标签名 SYSTEM &quot;dtd文件的位置&quot;&gt;</span><br><span class="line">			* 网络：&lt;!DOCTYPE 根标签名 PUBLIC &quot;dtd文件名字&quot; &quot;dtd文件的位置URL&quot;&gt;</span><br></pre></td></tr></table></figure>
<h3 id="Schema"><a href="#Schema" class="headerlink" title="Schema"></a>Schema</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* Schema:</span><br><span class="line">	* 引入：</span><br><span class="line">		1.填写xml文档的根元素</span><br><span class="line">		2.引入xsi前缀.  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">		3.引入xsd文件命名空间.  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.itcast.cn&#x2F;xml  student.xsd&quot;</span><br><span class="line">		4.为每一个xsd约束声明一个前缀,作为标识  xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.itcast.cn&#x2F;xml&quot; </span><br><span class="line"></span><br><span class="line">	&lt;students   xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">		xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.itcast.cn&#x2F;xml&quot;</span><br><span class="line">		xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.itcast.cn&#x2F;xml  student.xsd&quot;&gt;</span><br></pre></td></tr></table></figure>
<h3 id="解析xml"><a href="#解析xml" class="headerlink" title="解析xml"></a>解析xml</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">3. 解析：操作xml文档，将文档中的数据读取到内存中</span><br><span class="line">	* 操作xml文档</span><br><span class="line">		1. 解析(读取)：将文档中的数据读取到内存中</span><br><span class="line">		2. 写入：将内存中的数据保存到xml文档中。持久化的存储</span><br><span class="line"></span><br><span class="line">	* 解析xml的方式：</span><br><span class="line">		1. DOM：将标记语言文档一次性加载进内存，在内存中形成一颗dom树</span><br><span class="line">			* 优点：操作方便，可以对文档进行CRUD的所有操作</span><br><span class="line">			* 缺点：占内存</span><br><span class="line">		2. SAX：逐行读取，基于事件驱动的。</span><br><span class="line">			* 优点：不占内存。</span><br><span class="line">			* 缺点：只能读取，不能增删改</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* xml常见的解析器：</span><br><span class="line">	1. JAXP：sun公司提供的解析器，支持dom和sax两种思想</span><br><span class="line">	2. DOM4J：一款非常优秀的解析器</span><br><span class="line">	3. Jsoup：jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。</span><br><span class="line">	4. PULL：Android操作系统内置的解析器，sax方式的。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">* Jsoup：jsoup 是一款Java 的HTML解析器，可直接解析某个URL地址、HTML文本内容。它提供了一套非常省力的API，可通过DOM，CSS以及类似于jQuery的操作方法来取出和操作数据。</span><br><span class="line">	* 快速入门：</span><br><span class="line">		* 步骤：</span><br><span class="line">			1. 导入jar包</span><br><span class="line">			2. 获取Document对象</span><br><span class="line">			3. 获取对应的标签Element对象</span><br><span class="line">			4. 获取数据</span><br><span class="line"></span><br><span class="line">	* 代码：</span><br><span class="line">		 &#x2F;&#x2F;2.1获取student.xml的path</span><br><span class="line">        String path &#x3D; JsoupDemo1.class.getClassLoader().getResource(&quot;student.xml&quot;).getPath();</span><br><span class="line">        &#x2F;&#x2F;2.2解析xml文档，加载文档进内存，获取dom树---&gt;Document</span><br><span class="line">        Document document &#x3D; Jsoup.parse(new File(path), &quot;utf-8&quot;);</span><br><span class="line">        &#x2F;&#x2F;3.获取元素对象 Element</span><br><span class="line">        Elements elements &#x3D; document.getElementsByTag(&quot;name&quot;);</span><br><span class="line"></span><br><span class="line">        System.out.println(elements.size());</span><br><span class="line">        &#x2F;&#x2F;3.1获取第一个name的Element对象</span><br><span class="line">        Element element &#x3D; elements.get(0);</span><br><span class="line">        &#x2F;&#x2F;3.2获取数据</span><br><span class="line">        String name &#x3D; element.text();</span><br><span class="line">        System.out.println(name);</span><br><span class="line"></span><br><span class="line">* 对象的使用：</span><br><span class="line">	1. Jsoup：工具类，可以解析html或xml文档，返回Document</span><br><span class="line">		* parse：解析html或xml文档，返回Document</span><br><span class="line">			* parse​(File in, String charsetName)：解析xml或html文件的。</span><br><span class="line">			* parse​(String html)：解析xml或html字符串</span><br><span class="line">			* parse​(URL url, int timeoutMillis)：通过网络路径获取指定的html或xml的文档对象</span><br><span class="line">	2. Document：文档对象。代表内存中的dom树</span><br><span class="line">		* 获取Element对象</span><br><span class="line">			* getElementById​(String id)：根据id属性值获取唯一的element对象</span><br><span class="line">			* getElementsByTag​(String tagName)：根据标签名称获取元素对象集合</span><br><span class="line">			* getElementsByAttribute​(String key)：根据属性名称获取元素对象集合</span><br><span class="line">			* getElementsByAttributeValue​(String key, String value)：根据对应的属性名和属性值获取元素对象集合</span><br><span class="line">	3. Elements：元素Element对象的集合。可以当做 ArrayList&lt;Element&gt;来使用</span><br><span class="line">	4. Element：元素对象</span><br><span class="line">		1. 获取子元素对象</span><br><span class="line">			* getElementById​(String id)：根据id属性值获取唯一的element对象</span><br><span class="line">			* getElementsByTag​(String tagName)：根据标签名称获取元素对象集合</span><br><span class="line">			* getElementsByAttribute​(String key)：根据属性名称获取元素对象集合</span><br><span class="line">			* getElementsByAttributeValue​(String key, String value)：根据对应的属性名和属性值获取元素对象集合</span><br><span class="line"></span><br><span class="line">		2. 获取属性值</span><br><span class="line">			* String attr(String key)：根据属性名称获取属性值</span><br><span class="line">		3. 获取文本内容</span><br><span class="line">			* String text():获取文本内容</span><br><span class="line">			* String html():获取标签体的所有内容(包括字标签的字符串内容)</span><br><span class="line">	5. Node：节点对象</span><br><span class="line">		* 是Document和Element的父类</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">* 快捷查询方式：</span><br><span class="line">	1. selector:选择器</span><br><span class="line">		* 使用的方法：Elements	select​(String cssQuery)</span><br><span class="line">			* 语法：参考Selector类中定义的语法</span><br><span class="line">	2. XPath：XPath即为XML路径语言，它是一种用来确定XML（标准通用标记语言的子集）文档中某部分位置的语言</span><br><span class="line">		* 使用Jsoup的Xpath需要额外导入jar包。</span><br><span class="line">		* 查询w3cshool参考手册，使用xpath的语法完成查询</span><br><span class="line">		* 代码：</span><br><span class="line">			&#x2F;&#x2F;1.获取student.xml的path</span><br><span class="line">	        String path &#x3D; JsoupDemo6.class.getClassLoader().getResource(&quot;student.xml&quot;).getPath();</span><br><span class="line">	        &#x2F;&#x2F;2.获取Document对象</span><br><span class="line">	        Document document &#x3D; Jsoup.parse(new File(path), &quot;utf-8&quot;);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F;3.根据document对象，创建JXDocument对象</span><br><span class="line">	        JXDocument jxDocument &#x3D; new JXDocument(document);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F;4.结合xpath语法查询</span><br><span class="line">	        &#x2F;&#x2F;4.1查询所有student标签</span><br><span class="line">	        List&lt;JXNode&gt; jxNodes &#x3D; jxDocument.selN(&quot;&#x2F;&#x2F;student&quot;);</span><br><span class="line">	        for (JXNode jxNode : jxNodes) &#123;</span><br><span class="line">	            System.out.println(jxNode);</span><br><span class="line">	        &#125;</span><br><span class="line">	</span><br><span class="line">	        System.out.println(&quot;--------------------&quot;);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F;4.2查询所有student标签下的name标签</span><br><span class="line">	        List&lt;JXNode&gt; jxNodes2 &#x3D; jxDocument.selN(&quot;&#x2F;&#x2F;student&#x2F;name&quot;);</span><br><span class="line">	        for (JXNode jxNode : jxNodes2) &#123;</span><br><span class="line">	            System.out.println(jxNode);</span><br><span class="line">	        &#125;</span><br><span class="line">	</span><br><span class="line">	        System.out.println(&quot;--------------------&quot;);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F;4.3查询student标签下带有id属性的name标签</span><br><span class="line">	        List&lt;JXNode&gt; jxNodes3 &#x3D; jxDocument.selN(&quot;&#x2F;&#x2F;student&#x2F;name[@id]&quot;);</span><br><span class="line">	        for (JXNode jxNode : jxNodes3) &#123;</span><br><span class="line">	            System.out.println(jxNode);</span><br><span class="line">	        &#125;</span><br><span class="line">	        System.out.println(&quot;--------------------&quot;);</span><br><span class="line">	        &#x2F;&#x2F;4.4查询student标签下带有id属性的name标签 并且id属性值为itcast</span><br><span class="line">	</span><br><span class="line">	        List&lt;JXNode&gt; jxNodes4 &#x3D; jxDocument.selN(&quot;&#x2F;&#x2F;student&#x2F;name[@id&#x3D;&#39;itcast&#39;]&quot;);</span><br><span class="line">	        for (JXNode jxNode : jxNodes4) &#123;</span><br><span class="line">	            System.out.println(jxNode);</span><br><span class="line">	        &#125;</span><br></pre></td></tr></table></figure>
<h2 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">* Tomcat：web服务器软件</span><br><span class="line">	1. 下载：http:&#x2F;&#x2F;tomcat.apache.org&#x2F;</span><br><span class="line">	2. 安装：解压压缩包即可。</span><br><span class="line">		* 注意：安装目录建议不要有中文和空格</span><br><span class="line">	3. 卸载：删除目录就行了</span><br><span class="line">	4. 启动：</span><br><span class="line">		* bin&#x2F;startup.bat ,双击运行该文件即可</span><br><span class="line">		* 访问：浏览器输入：http:&#x2F;&#x2F;localhost:8080 回车访问自己</span><br><span class="line">						  http:&#x2F;&#x2F;别人的ip:8080 访问别人</span><br><span class="line">		</span><br><span class="line">		* 可能遇到的问题：</span><br><span class="line">			1. 黑窗口一闪而过：</span><br><span class="line">				* 原因： 没有正确配置JAVA_HOME环境变量</span><br><span class="line">				* 解决方案：正确配置JAVA_HOME环境变量</span><br><span class="line"></span><br><span class="line">			2. 启动报错：</span><br><span class="line">				1. 暴力：找到占用的端口号，并且找到对应的进程，杀死该进程</span><br><span class="line">					* netstat -ano</span><br><span class="line">				2. 温柔：修改自身的端口号</span><br><span class="line">					* conf&#x2F;server.xml</span><br><span class="line">					* &lt;Connector port&#x3D;&quot;8888&quot; protocol&#x3D;&quot;HTTP&#x2F;1.1&quot;</span><br><span class="line">		               connectionTimeout&#x3D;&quot;20000&quot;</span><br><span class="line">		               redirectPort&#x3D;&quot;8445&quot; &#x2F;&gt;</span><br><span class="line">					* 一般会将tomcat的默认端口号修改为80。80端口号是http协议的默认端口号。</span><br><span class="line">						* 好处：在访问时，就不用输入端口号</span><br><span class="line">	5. 关闭：</span><br><span class="line">		1. 正常关闭：</span><br><span class="line">			* bin&#x2F;shutdown.bat</span><br><span class="line">			* ctrl+c</span><br><span class="line">		2. 强制关闭：</span><br><span class="line">			* 点击启动窗口的×</span><br><span class="line">	6. 配置:</span><br><span class="line">		* 部署项目的方式：</span><br><span class="line">			1. 直接将项目放到webapps目录下即可。</span><br><span class="line">				* &#x2F;hello：项目的访问路径--&gt;虚拟目录</span><br><span class="line">				* 简化部署：将项目打成一个war包，再将war包放置到webapps目录下。</span><br><span class="line">					* war包会自动解压缩</span><br><span class="line"></span><br><span class="line">			2. 配置conf&#x2F;server.xml文件</span><br><span class="line">				在&lt;Host&gt;标签体中配置</span><br><span class="line">				&lt;Context docBase&#x3D;&quot;D:\hello&quot; path&#x3D;&quot;&#x2F;hehe&quot; &#x2F;&gt;</span><br><span class="line">				* docBase:项目存放的路径</span><br><span class="line">				* path：虚拟目录</span><br><span class="line"></span><br><span class="line">			3. 在conf\Catalina\localhost创建任意名称的xml文件。在文件中编写</span><br><span class="line">				&lt;Context docBase&#x3D;&quot;D:\hello&quot; &#x2F;&gt;</span><br><span class="line">				* 虚拟目录：xml文件的名称</span><br><span class="line">		</span><br><span class="line">		* 静态项目和动态项目：</span><br><span class="line">			* 目录结构</span><br><span class="line">				* java动态项目的目录结构：</span><br><span class="line">					-- 项目的根目录</span><br><span class="line">						-- WEB-INF目录：</span><br><span class="line">							-- web.xml：web项目的核心配置文件</span><br><span class="line">							-- classes目录：放置字节码文件的目录</span><br><span class="line">							-- lib目录：放置依赖的jar包</span><br></pre></td></tr></table></figure>
<h2 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1. 概念</span><br><span class="line">2. 步骤</span><br><span class="line">3. 执行原理</span><br><span class="line">4. 生命周期</span><br><span class="line">5. Servlet3.0 注解配置</span><br><span class="line">6. Servlet的体系结构	</span><br><span class="line">	Servlet -- 接口</span><br><span class="line">		|</span><br><span class="line">	GenericServlet -- 抽象类</span><br><span class="line">		|</span><br><span class="line">	HttpServlet  -- 抽象类</span><br><span class="line"></span><br><span class="line">	* GenericServlet：将Servlet接口中其他的方法做了默认空实现，只将service()方法作为抽象</span><br><span class="line">		* 将来定义Servlet类时，可以继承GenericServlet，实现service()方法即可</span><br><span class="line"></span><br><span class="line">	* HttpServlet：对http协议的一种封装，简化操作</span><br><span class="line">		1. 定义类继承HttpServlet</span><br><span class="line">		2. 复写doGet&#x2F;doPost方法</span><br><span class="line"></span><br><span class="line">7. Servlet相关配置</span><br><span class="line">	1. urlpartten:Servlet访问路径</span><br><span class="line">		1. 一个Servlet可以定义多个访问路径 ： @WebServlet(&#123;&quot;&#x2F;d4&quot;,&quot;&#x2F;dd4&quot;,&quot;&#x2F;ddd4&quot;&#125;)</span><br><span class="line">		2. 路径定义规则：</span><br><span class="line">			1. &#x2F;xxx：路径匹配</span><br><span class="line">			2. &#x2F;xxx&#x2F;xxx:多层路径，目录结构</span><br><span class="line">			3. *.do：扩展名匹配</span><br></pre></td></tr></table></figure>
<h3 id="Http"><a href="#Http" class="headerlink" title="Http"></a>Http</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">* 概念：Hyper Text Transfer Protocol 超文本传输协议</span><br><span class="line">	* 传输协议：定义了，客户端和服务器端通信时，发送数据的格式</span><br><span class="line">	* 特点：</span><br><span class="line">		1. 基于TCP&#x2F;IP的高级协议</span><br><span class="line">		2. 默认端口号:80</span><br><span class="line">		3. 基于请求&#x2F;响应模型的:一次请求对应一次响应</span><br><span class="line">		4. 无状态的：每次请求之间相互独立，不能交互数据</span><br><span class="line"></span><br><span class="line">	* 历史版本：</span><br><span class="line">		* 1.0：每一次请求响应都会建立新的连接</span><br><span class="line">		* 1.1：复用连接</span><br><span class="line"></span><br><span class="line">* 请求消息数据格式</span><br><span class="line">	1. 请求行</span><br><span class="line">		请求方式 请求url 请求协议&#x2F;版本</span><br><span class="line">		GET &#x2F;login.html	HTTP&#x2F;1.1</span><br><span class="line"></span><br><span class="line">		* 请求方式：</span><br><span class="line">			* HTTP协议有7种请求方式，常用的有2种</span><br><span class="line">				* GET：</span><br><span class="line">					1. 请求参数在请求行中，在url后。</span><br><span class="line">					2. 请求的url长度有限制的</span><br><span class="line">					3. 不太安全</span><br><span class="line">				* POST：</span><br><span class="line">					1. 请求参数在请求体中</span><br><span class="line">					2. 请求的url长度没有限制的</span><br><span class="line">					3. 相对安全</span><br><span class="line">	2. 请求头：客户端浏览器告诉服务器一些信息</span><br><span class="line">		请求头名称: 请求头值</span><br><span class="line">		* 常见的请求头：</span><br><span class="line">			1. User-Agent：浏览器告诉服务器，我访问你使用的浏览器版本信息</span><br><span class="line">				* 可以在服务器端获取该头的信息，解决浏览器的兼容性问题</span><br><span class="line"></span><br><span class="line">			2. Referer：http:&#x2F;&#x2F;localhost&#x2F;login.html</span><br><span class="line">				* 告诉服务器，我(当前请求)从哪里来？</span><br><span class="line">					* 作用：</span><br><span class="line">						1. 防盗链：</span><br><span class="line">						2. 统计工作：</span><br><span class="line">	3. 请求空行</span><br><span class="line">		空行，就是用于分割POST请求的请求头，和请求体的。</span><br><span class="line">	4. 请求体(正文)：</span><br><span class="line">		* 封装POST请求消息的请求参数的</span><br><span class="line"></span><br><span class="line">	* 字符串格式：</span><br><span class="line">		POST &#x2F;login.html	HTTP&#x2F;1.1</span><br><span class="line"></span><br><span class="line">		Host: localhost</span><br><span class="line">		User-Agent: Mozilla&#x2F;5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko&#x2F;20100101 Firefox&#x2F;60.0</span><br><span class="line">		Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,*&#x2F;*;q&#x3D;0.8</span><br><span class="line">		Accept-Language: zh-CN,zh;q&#x3D;0.8,zh-TW;q&#x3D;0.7,zh-HK;q&#x3D;0.5,en-US;q&#x3D;0.3,en;q&#x3D;0.2</span><br><span class="line">		Accept-Encoding: gzip, deflate</span><br><span class="line">		Referer: http:&#x2F;&#x2F;localhost&#x2F;login.html</span><br><span class="line">		Connection: keep-alive</span><br><span class="line">		Upgrade-Insecure-Requests: 1</span><br><span class="line">		</span><br><span class="line">		username&#x3D;zhangsan	</span><br></pre></td></tr></table></figure>
<h3 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">1. request对象和response对象的原理</span><br><span class="line">	1. request和response对象是由服务器创建的。我们来使用它们</span><br><span class="line">	2. request对象是来获取请求消息，response对象是来设置响应消息</span><br><span class="line"></span><br><span class="line">2. request对象继承体系结构：	</span><br><span class="line">	ServletRequest		--	接口</span><br><span class="line">		|	继承</span><br><span class="line">	HttpServletRequest	-- 接口</span><br><span class="line">		|	实现</span><br><span class="line">	org.apache.catalina.connector.RequestFacade 类(tomcat)</span><br><span class="line"></span><br><span class="line">3. request功能：</span><br><span class="line">	1. 获取请求消息数据</span><br><span class="line">		1. 获取请求行数据</span><br><span class="line">			* GET &#x2F;day14&#x2F;demo1?name&#x3D;zhangsan HTTP&#x2F;1.1</span><br><span class="line">			* 方法：</span><br><span class="line">				1. 获取请求方式 ：GET</span><br><span class="line">					* String getMethod()  </span><br><span class="line">				2. (*)获取虚拟目录：&#x2F;day14</span><br><span class="line">					* String getContextPath()</span><br><span class="line">				3. 获取Servlet路径: &#x2F;demo1</span><br><span class="line">					* String getServletPath()</span><br><span class="line">				4. 获取get方式请求参数：name&#x3D;zhangsan</span><br><span class="line">					* String getQueryString()</span><br><span class="line">				5. (*)获取请求URI：&#x2F;day14&#x2F;demo1</span><br><span class="line">					* String getRequestURI():		&#x2F;day14&#x2F;demo1</span><br><span class="line">					* StringBuffer getRequestURL()  :http:&#x2F;&#x2F;localhost&#x2F;day14&#x2F;demo1</span><br><span class="line"></span><br><span class="line">					* URL:统一资源定位符 ： http:&#x2F;&#x2F;localhost&#x2F;day14&#x2F;demo1	中华人民共和国</span><br><span class="line">					* URI：统一资源标识符 : &#x2F;day14&#x2F;demo1					共和国</span><br><span class="line">				</span><br><span class="line">				6. 获取协议及版本：HTTP&#x2F;1.1</span><br><span class="line">					* String getProtocol()</span><br><span class="line"></span><br><span class="line">				7. 获取客户机的IP地址：</span><br><span class="line">					* String getRemoteAddr()</span><br><span class="line">				</span><br><span class="line">		2. 获取请求头数据</span><br><span class="line">			* 方法：</span><br><span class="line">				* (*)String getHeader(String name):通过请求头的名称获取请求头的值</span><br><span class="line">				* Enumeration&lt;String&gt; getHeaderNames():获取所有的请求头名称</span><br><span class="line">			</span><br><span class="line">		3. 获取请求体数据:</span><br><span class="line">			* 请求体：只有POST请求方式，才有请求体，在请求体中封装了POST请求的请求参数</span><br><span class="line">			* 步骤：</span><br><span class="line">				1. 获取流对象</span><br><span class="line">					*  BufferedReader getReader()：获取字符输入流，只能操作字符数据</span><br><span class="line">					*  ServletInputStream getInputStream()：获取字节输入流，可以操作所有类型数据</span><br><span class="line">						* 在文件上传知识点后讲解</span><br><span class="line"></span><br><span class="line">				2. 再从流对象中拿数据</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">2. 其他功能：</span><br><span class="line">	1. 获取请求参数通用方式：不论get还是post请求方式都可以使用下列方法来获取请求参数</span><br><span class="line">		1. String getParameter(String name):根据参数名称获取参数值    username&#x3D;zs&amp;password&#x3D;123</span><br><span class="line">		2. String[] getParameterValues(String name):根据参数名称获取参数值的数组  hobby&#x3D;xx&amp;hobby&#x3D;game</span><br><span class="line">		3. Enumeration&lt;String&gt; getParameterNames():获取所有请求的参数名称</span><br><span class="line">		4. Map&lt;String,String[]&gt; getParameterMap():获取所有参数的map集合</span><br><span class="line"></span><br><span class="line">		* 中文乱码问题：</span><br><span class="line">			* get方式：tomcat 8 已经将get方式乱码问题解决了</span><br><span class="line">			* post方式：会乱码</span><br><span class="line">				* 解决：在获取参数前，设置request的编码request.setCharacterEncoding(&quot;utf-8&quot;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2. 请求转发：一种在服务器内部的资源跳转方式</span><br><span class="line">	1. 步骤：</span><br><span class="line">		1. 通过request对象获取请求转发器对象：RequestDispatcher getRequestDispatcher(String path)</span><br><span class="line">		2. 使用RequestDispatcher对象来进行转发：forward(ServletRequest request, ServletResponse response) </span><br><span class="line"></span><br><span class="line">	2. 特点：</span><br><span class="line">		1. 浏览器地址栏路径不发生变化</span><br><span class="line">		2. 只能转发到当前服务器内部资源中。</span><br><span class="line">		3. 转发是一次请求</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">3. 共享数据：</span><br><span class="line">	* 域对象：一个有作用范围的对象，可以在范围内共享数据</span><br><span class="line">	* request域：代表一次请求的范围，一般用于请求转发的多个资源中共享数据</span><br><span class="line">	* 方法：</span><br><span class="line">		1. void setAttribute(String name,Object obj):存储数据</span><br><span class="line">		2. Object getAttitude(String name):通过键获取值</span><br><span class="line">		3. void removeAttribute(String name):通过键移除键值对</span><br><span class="line"></span><br><span class="line">4. 获取ServletContext：</span><br><span class="line">	* ServletContext getServletContext()</span><br></pre></td></tr></table></figure>
<h3 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* 数据格式：</span><br><span class="line">	1. 响应行</span><br><span class="line">		1. 组成：协议&#x2F;版本 响应状态码 状态码描述</span><br><span class="line">		2. 响应状态码：服务器告诉客户端浏览器本次请求和响应的一个状态。</span><br><span class="line">			1. 状态码都是3位数字 </span><br><span class="line">			2. 分类：</span><br><span class="line">				1. 1xx：服务器就收客户端消息，但没有接受完成，等待一段时间后，发送1xx多状态码</span><br><span class="line">				2. 2xx：成功。代表：200</span><br><span class="line">				3. 3xx：重定向。代表：302(重定向)，304(访问缓存)</span><br><span class="line">				4. 4xx：客户端错误。</span><br><span class="line">					* 代表：</span><br><span class="line">						* 404（请求路径没有对应的资源） </span><br><span class="line">						* 405：请求方式没有对应的doXxx方法</span><br><span class="line">				5. 5xx：服务器端错误。代表：500(服务器内部出现异常)</span><br><span class="line">	2. 响应头：</span><br><span class="line">  			1. 格式：头名称： 值</span><br><span class="line">       	2. 常见的响应头：</span><br><span class="line">            	1. Content-Type：服务器告诉客户端本次响应体数据格式以及编码格式</span><br><span class="line">                2. Content-disposition：服务器告诉客户端以什么格式打开响应体数据</span><br><span class="line">                 * 值：</span><br><span class="line">                     * in-line:默认值,在当前页面内打开</span><br><span class="line">                        * attachment;filename&#x3D;xxx：以附件形式打开响应体。文件下载</span><br><span class="line">	2. 响应空行</span><br><span class="line">	3. 响应体:传输的数据</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 功能：设置响应消息</span><br><span class="line">	1. 设置响应行</span><br><span class="line">		1. 格式：HTTP&#x2F;1.1 200 ok</span><br><span class="line">		2. 设置状态码：setStatus(int sc) </span><br><span class="line">	2. 设置响应头：setHeader(String name, String value) </span><br><span class="line"></span><br><span class="line">	3. 设置响应体：</span><br><span class="line">		* 使用步骤：</span><br><span class="line">			1. 获取输出流</span><br><span class="line">				* 字符输出流：PrintWriter getWriter()</span><br><span class="line"></span><br><span class="line">				* 字节输出流：ServletOutputStream getOutputStream()</span><br><span class="line"></span><br><span class="line">			2. 使用输出流，将数据输出到客户端浏览器</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">* 案例：</span><br><span class="line">	1. 完成重定向</span><br><span class="line">		* 重定向：资源跳转的方式</span><br><span class="line">		* 代码实现：</span><br><span class="line">			&#x2F;&#x2F;1. 设置状态码为302</span><br><span class="line">	        response.setStatus(302);</span><br><span class="line">	        &#x2F;&#x2F;2.设置响应头location</span><br><span class="line">	        response.setHeader(&quot;location&quot;,&quot;&#x2F;day15&#x2F;responseDemo2&quot;);</span><br><span class="line">	        &#x2F;&#x2F;简单的重定向方法</span><br><span class="line">	        response.sendRedirect(&quot;&#x2F;day15&#x2F;responseDemo2&quot;);</span><br><span class="line"></span><br><span class="line">		* 重定向的特点:redirect</span><br><span class="line">			1. 地址栏发生变化</span><br><span class="line">			2. 重定向可以访问其他站点(服务器)的资源</span><br><span class="line">			3. 重定向是两次请求。不能使用request对象来共享数据</span><br><span class="line">		* 转发的特点：forward</span><br><span class="line">			1. 转发地址栏路径不变</span><br><span class="line">			2. 转发只能访问当前服务器下的资源</span><br><span class="line">			3. 转发是一次请求，可以使用request对象来共享数据</span><br><span class="line">		</span><br><span class="line">		* forward 和  redirect 区别</span><br><span class="line">			</span><br><span class="line">		* 路径写法：</span><br><span class="line">			1. 路径分类</span><br><span class="line">				1. 相对路径：通过相对路径不可以确定唯一资源</span><br><span class="line">					* 如：.&#x2F;index.html</span><br><span class="line">					* 不以&#x2F;开头，以.开头路径</span><br><span class="line"></span><br><span class="line">					* 规则：找到当前资源和目标资源之间的相对位置关系</span><br><span class="line">						* .&#x2F;：当前目录</span><br><span class="line">						* ..&#x2F;:后退一级目录</span><br><span class="line">				2. 绝对路径：通过绝对路径可以确定唯一资源</span><br><span class="line">					* 如：http:&#x2F;&#x2F;localhost&#x2F;day15&#x2F;responseDemo2		&#x2F;day15&#x2F;responseDemo2</span><br><span class="line">					* 以&#x2F;开头的路径</span><br><span class="line"></span><br><span class="line">					* 规则：判断定义的路径是给谁用的？判断请求将来从哪儿发出</span><br><span class="line">						* 给客户端浏览器使用：需要加虚拟目录(项目的访问路径)</span><br><span class="line">							* 建议虚拟目录动态获取：request.getContextPath()</span><br><span class="line">							* &lt;a&gt; , &lt;form&gt; 重定向...</span><br><span class="line">						* 给服务器使用：不需要加虚拟目录</span><br><span class="line">							* 转发路径</span><br><span class="line">	2. 服务器输出字符数据到浏览器</span><br><span class="line">		* 步骤：</span><br><span class="line">			1. 获取字符输出流</span><br><span class="line">			2. 输出数据</span><br><span class="line"></span><br><span class="line">		* 注意：</span><br><span class="line">			* 乱码问题：</span><br><span class="line">				1. PrintWriter pw &#x3D; response.getWriter();获取的流的默认编码是ISO-8859-1</span><br><span class="line">				2. 设置该流的默认编码</span><br><span class="line">				3. 告诉浏览器响应体使用的编码</span><br><span class="line"></span><br><span class="line">				&#x2F;&#x2F;简单的形式，设置编码，是在获取流之前设置</span><br><span class="line">    			response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf-8&quot;);</span><br><span class="line">	3. 服务器输出字节数据到浏览器</span><br><span class="line">		* 步骤：</span><br><span class="line">			1. 获取字节输出流</span><br><span class="line">			2. 输出数据</span><br><span class="line"></span><br><span class="line">	4. 验证码</span><br><span class="line">		1. 本质：图片</span><br><span class="line">		2. 目的：防止恶意表单注册</span><br></pre></td></tr></table></figure>
<h3 id="ServletContext"><a href="#ServletContext" class="headerlink" title="ServletContext"></a>ServletContext</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1. 概念：代表整个web应用，可以和程序的容器(服务器)来通信</span><br><span class="line">2. 获取：</span><br><span class="line">	1. 通过request对象获取</span><br><span class="line">		request.getServletContext();</span><br><span class="line">	2. 通过HttpServlet获取</span><br><span class="line">		this.getServletContext();</span><br><span class="line">3. 功能：</span><br><span class="line">	1. 获取MIME类型：</span><br><span class="line">		* MIME类型:在互联网通信过程中定义的一种文件数据类型</span><br><span class="line">			* 格式： 大类型&#x2F;小类型   text&#x2F;html		image&#x2F;jpeg</span><br><span class="line"></span><br><span class="line">		* 获取：String getMimeType(String file)  </span><br><span class="line">	2. 域对象：共享数据</span><br><span class="line">		1. setAttribute(String name,Object value)</span><br><span class="line">		2. getAttribute(String name)</span><br><span class="line">		3. removeAttribute(String name)</span><br><span class="line"></span><br><span class="line">		* ServletContext对象范围：所有用户所有请求的数据</span><br><span class="line">	3. 获取文件的真实(服务器)路径</span><br><span class="line">		1. 方法：String getRealPath(String path)  </span><br><span class="line">			 String b &#x3D; context.getRealPath(&quot;&#x2F;b.txt&quot;);&#x2F;&#x2F;web目录下资源访问</span><br><span class="line">	         System.out.println(b);</span><br><span class="line">	</span><br><span class="line">	        String c &#x3D; context.getRealPath(&quot;&#x2F;WEB-INF&#x2F;c.txt&quot;);&#x2F;&#x2F;WEB-INF目录下的资源访问</span><br><span class="line">	        System.out.println(c);</span><br><span class="line">	</span><br><span class="line">	        String a &#x3D; context.getRealPath(&quot;&#x2F;WEB-INF&#x2F;classes&#x2F;a.txt&quot;);&#x2F;&#x2F;src目录下的资源访问</span><br><span class="line">	        System.out.println(a);</span><br></pre></td></tr></table></figure>
<h2 id="会话技术"><a href="#会话技术" class="headerlink" title="会话技术"></a>会话技术</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 会话：一次会话中包含多次请求和响应。</span><br><span class="line">	* 一次会话：浏览器第一次给服务器资源发送请求，会话建立，直到有一方断开为止</span><br><span class="line">2. 功能：在一次会话的范围内的多次请求间，共享数据</span><br><span class="line">3. 方式：</span><br><span class="line">	1. 客户端会话技术：Cookie</span><br><span class="line">	2. 服务器端会话技术：Session</span><br></pre></td></tr></table></figure>
<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line">1. 概念：客户端会话技术，将数据保存到客户端</span><br><span class="line"></span><br><span class="line">2. 快速入门：</span><br><span class="line">	* 使用步骤：</span><br><span class="line">		1. 创建Cookie对象，绑定数据</span><br><span class="line">			* new Cookie(String name, String value) </span><br><span class="line">		2. 发送Cookie对象</span><br><span class="line">			* response.addCookie(Cookie cookie) </span><br><span class="line">		3. 获取Cookie，拿到数据</span><br><span class="line">			* Cookie[]  request.getCookies()</span><br><span class="line">3. 实现原理</span><br><span class="line">	* 基于响应头set-cookie和请求头cookie实现</span><br><span class="line"></span><br><span class="line">4. cookie的细节</span><br><span class="line">	1. 一次可不可以发送多个cookie?</span><br><span class="line">		* 可以</span><br><span class="line">		* 可以创建多个Cookie对象，使用response调用多次addCookie方法发送cookie即可。</span><br><span class="line">	2. cookie在浏览器中保存多长时间？</span><br><span class="line">		1. 默认情况下，当浏览器关闭后，Cookie数据被销毁</span><br><span class="line">		2. 持久化存储：</span><br><span class="line">			* setMaxAge(int seconds)</span><br><span class="line">				1. 正数：将Cookie数据写到硬盘的文件中。持久化存储。并指定cookie存活时间，时间到后，cookie文件自动失效</span><br><span class="line">				2. 负数：默认值</span><br><span class="line">				3. 零：删除cookie信息</span><br><span class="line">	3. cookie能不能存中文？</span><br><span class="line">		* 在tomcat 8 之前 cookie中不能直接存储中文数据。</span><br><span class="line">			* 需要将中文数据转码---一般采用URL编码(%E3)</span><br><span class="line">		* 在tomcat 8 之后，cookie支持中文数据。特殊字符还是不支持，建议使用URL编码存储，URL解码解析</span><br><span class="line">	4. cookie共享问题？</span><br><span class="line">		1. 假设在一个tomcat服务器中，部署了多个web项目，那么在这些web项目中cookie能不能共享？</span><br><span class="line">			* 默认情况下cookie不能共享</span><br><span class="line"></span><br><span class="line">			* setPath(String path):设置cookie的获取范围。默认情况下，设置当前的虚拟目录</span><br><span class="line">				* 如果要共享，则可以将path设置为&quot;&#x2F;&quot;</span><br><span class="line">		2. 不同的tomcat服务器间cookie共享问题？</span><br><span class="line">			* setDomain(String path):如果设置一级域名相同，那么多个服务器之间cookie可以共享</span><br><span class="line">				* setDomain(&quot;.baidu.com&quot;),那么tieba.baidu.com和news.baidu.com中cookie可以共享</span><br><span class="line">5. Cookie的特点和作用</span><br><span class="line">	1. cookie存储数据在客户端浏览器</span><br><span class="line">	2. 浏览器对于单个cookie 的大小有限制(4kb) 以及 对同一个域名下的总cookie数量也有限制(20个)</span><br><span class="line"></span><br><span class="line">	* 作用：</span><br><span class="line">		1. cookie一般用于存出少量的不太敏感的数据</span><br><span class="line">		2. 在不登录的情况下，完成服务器对客户端的身份识别</span><br><span class="line"></span><br><span class="line">6. 案例：记住上一次访问时间</span><br><span class="line">	1. 需求：</span><br><span class="line">		1. 访问一个Servlet，如果是第一次访问，则提示：您好，欢迎您首次访问。</span><br><span class="line">		2. 如果不是第一次访问，则提示：欢迎回来，您上次访问时间为:显示时间字符串</span><br><span class="line"></span><br><span class="line">	2. 分析：</span><br><span class="line">		1. 可以采用Cookie来完成</span><br><span class="line">		2. 在服务器中的Servlet判断是否有一个名为lastTime的cookie</span><br><span class="line">			1. 有：不是第一次访问</span><br><span class="line">				1. 响应数据：欢迎回来，您上次访问时间为:2018年6月10日11:50:20</span><br><span class="line">				2. 写回Cookie：lastTime&#x3D;2018年6月10日11:50:01</span><br><span class="line">			2. 没有：是第一次访问</span><br><span class="line">				1. 响应数据：您好，欢迎您首次访问</span><br><span class="line">				2. 写回Cookie：lastTime&#x3D;2018年6月10日11:50:01</span><br><span class="line"></span><br><span class="line">	3. 代码实现：</span><br><span class="line">		package cn.itcast.cookie;</span><br><span class="line"></span><br><span class="line">		import javax.servlet.ServletException;</span><br><span class="line">		import javax.servlet.annotation.WebServlet;</span><br><span class="line">		import javax.servlet.http.Cookie;</span><br><span class="line">		import javax.servlet.http.HttpServlet;</span><br><span class="line">		import javax.servlet.http.HttpServletRequest;</span><br><span class="line">		import javax.servlet.http.HttpServletResponse;</span><br><span class="line">		import java.io.IOException;</span><br><span class="line">		import java.net.URLDecoder;</span><br><span class="line">		import java.net.URLEncoder;</span><br><span class="line">		import java.text.SimpleDateFormat;</span><br><span class="line">		import java.util.Date;</span><br><span class="line">	@WebServlet(&quot;&#x2F;cookieTest&quot;)</span><br><span class="line">	public class CookieTest extends HttpServlet &#123;</span><br><span class="line">	    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">	        &#x2F;&#x2F;设置响应的消息体的数据格式以及编码</span><br><span class="line">	        response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf-8&quot;);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F;1.获取所有Cookie</span><br><span class="line">	        Cookie[] cookies &#x3D; request.getCookies();</span><br><span class="line">	        boolean flag &#x3D; false;&#x2F;&#x2F;没有cookie为lastTime</span><br><span class="line">	        &#x2F;&#x2F;2.遍历cookie数组</span><br><span class="line">	        if(cookies !&#x3D; null &amp;&amp; cookies.length &gt; 0)&#123;</span><br><span class="line">	            for (Cookie cookie : cookies) &#123;</span><br><span class="line">	                &#x2F;&#x2F;3.获取cookie的名称</span><br><span class="line">	                String name &#x3D; cookie.getName();</span><br><span class="line">	                &#x2F;&#x2F;4.判断名称是否是：lastTime</span><br><span class="line">	                if(&quot;lastTime&quot;.equals(name))&#123;</span><br><span class="line">	                    &#x2F;&#x2F;有该Cookie，不是第一次访问</span><br><span class="line">	</span><br><span class="line">	                    flag &#x3D; true;&#x2F;&#x2F;有lastTime的cookie</span><br><span class="line">	</span><br><span class="line">	                    &#x2F;&#x2F;设置Cookie的value</span><br><span class="line">	                    &#x2F;&#x2F;获取当前时间的字符串，重新设置Cookie的值，重新发送cookie</span><br><span class="line">	                    Date date  &#x3D; new Date();</span><br><span class="line">	                    SimpleDateFormat sdf &#x3D; new SimpleDateFormat(&quot;yyyy年MM月dd日 HH:mm:ss&quot;);</span><br><span class="line">	                    String str_date &#x3D; sdf.format(date);</span><br><span class="line">	                    System.out.println(&quot;编码前：&quot;+str_date);</span><br><span class="line">	                    &#x2F;&#x2F;URL编码</span><br><span class="line">	                    str_date &#x3D; URLEncoder.encode(str_date,&quot;utf-8&quot;);</span><br><span class="line">	                    System.out.println(&quot;编码后：&quot;+str_date);</span><br><span class="line">	                    cookie.setValue(str_date);</span><br><span class="line">	                    &#x2F;&#x2F;设置cookie的存活时间</span><br><span class="line">	                    cookie.setMaxAge(60 * 60 * 24 * 30);&#x2F;&#x2F;一个月</span><br><span class="line">	                    response.addCookie(cookie);</span><br><span class="line">	                    &#x2F;&#x2F;响应数据</span><br><span class="line">	                    &#x2F;&#x2F;获取Cookie的value，时间</span><br><span class="line">	                    String value &#x3D; cookie.getValue();</span><br><span class="line">	                    System.out.println(&quot;解码前：&quot;+value);</span><br><span class="line">	                    &#x2F;&#x2F;URL解码：</span><br><span class="line">	                    value &#x3D; URLDecoder.decode(value,&quot;utf-8&quot;);</span><br><span class="line">	                    System.out.println(&quot;解码后：&quot;+value);</span><br><span class="line">	                    response.getWriter().write(&quot;&lt;h1&gt;欢迎回来，您上次访问时间为:&quot;+value+&quot;&lt;&#x2F;h1&gt;&quot;);</span><br><span class="line">	</span><br><span class="line">	                    break;</span><br><span class="line">	</span><br><span class="line">	                &#125;</span><br><span class="line">	            &#125;</span><br><span class="line">	        &#125;</span><br><span class="line">	        if(cookies &#x3D;&#x3D; null || cookies.length &#x3D;&#x3D; 0 || flag &#x3D;&#x3D; false)&#123;</span><br><span class="line">	            &#x2F;&#x2F;没有，第一次访问</span><br><span class="line">	</span><br><span class="line">	            &#x2F;&#x2F;设置Cookie的value</span><br><span class="line">	            &#x2F;&#x2F;获取当前时间的字符串，重新设置Cookie的值，重新发送cookie</span><br><span class="line">	            Date date  &#x3D; new Date();</span><br><span class="line">	            SimpleDateFormat sdf &#x3D; new SimpleDateFormat(&quot;yyyy年MM月dd日 HH:mm:ss&quot;);</span><br><span class="line">	            String str_date &#x3D; sdf.format(date);</span><br><span class="line">	            System.out.println(&quot;编码前：&quot;+str_date);</span><br><span class="line">	            &#x2F;&#x2F;URL编码</span><br><span class="line">	            str_date &#x3D; URLEncoder.encode(str_date,&quot;utf-8&quot;);</span><br><span class="line">	            System.out.println(&quot;编码后：&quot;+str_date);</span><br><span class="line">	</span><br><span class="line">	            Cookie cookie &#x3D; new Cookie(&quot;lastTime&quot;,str_date);</span><br><span class="line">	            &#x2F;&#x2F;设置cookie的存活时间</span><br><span class="line">	            cookie.setMaxAge(60 * 60 * 24 * 30);&#x2F;&#x2F;一个月</span><br><span class="line">	            response.addCookie(cookie);</span><br><span class="line">	</span><br><span class="line">	            response.getWriter().write(&quot;&lt;h1&gt;您好，欢迎您首次访问&lt;&#x2F;h1&gt;&quot;);</span><br><span class="line">	        &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">	        this.doPost(request, response);</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1. 概念：服务器端会话技术，在一次会话的多次请求间共享数据，将数据保存在服务器端的对象中。HttpSession</span><br><span class="line">2. 快速入门：</span><br><span class="line">	1. 获取HttpSession对象：</span><br><span class="line">		HttpSession session &#x3D; request.getSession();</span><br><span class="line">	2. 使用HttpSession对象：</span><br><span class="line">		Object getAttribute(String name)  </span><br><span class="line">		void setAttribute(String name, Object value)</span><br><span class="line">		void removeAttribute(String name)  </span><br><span class="line"></span><br><span class="line">3. 原理</span><br><span class="line">	* Session的实现是依赖于Cookie的。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">4. 细节：</span><br><span class="line">	1. 当客户端关闭后，服务器不关闭，两次获取session是否为同一个？</span><br><span class="line">		* 默认情况下。不是。</span><br><span class="line">		* 如果需要相同，则可以创建Cookie,键为JSESSIONID，设置最大存活时间，让cookie持久化保存。</span><br><span class="line">			 Cookie c &#x3D; new Cookie(&quot;JSESSIONID&quot;,session.getId());</span><br><span class="line">	         c.setMaxAge(60*60);</span><br><span class="line">	         response.addCookie(c);</span><br><span class="line"></span><br><span class="line">	2. 客户端不关闭，服务器关闭后，两次获取的session是同一个吗？</span><br><span class="line">		* 不是同一个，但是要确保数据不丢失。tomcat自动完成以下工作</span><br><span class="line">			* session的钝化：</span><br><span class="line">				* 在服务器正常关闭之前，将session对象系列化到硬盘上</span><br><span class="line">			* session的活化：</span><br><span class="line">				* 在服务器启动后，将session文件转化为内存中的session对象即可。</span><br><span class="line">			</span><br><span class="line">	3. session什么时候被销毁？</span><br><span class="line">		1. 服务器关闭</span><br><span class="line">		2. session对象调用invalidate() 。</span><br><span class="line">		3. session默认失效时间 30分钟</span><br><span class="line">			选择性配置修改	</span><br><span class="line">			&lt;session-config&gt;</span><br><span class="line">		        &lt;session-timeout&gt;30&lt;&#x2F;session-timeout&gt;</span><br><span class="line">		    &lt;&#x2F;session-config&gt;</span><br><span class="line"></span><br><span class="line"> 5. session的特点</span><br><span class="line">	 1. session用于存储一次会话的多次请求的数据，存在服务器端</span><br><span class="line">	 2. session可以存储任意类型，任意大小的数据</span><br><span class="line"></span><br><span class="line">	* session与Cookie的区别：</span><br><span class="line">		1. session存储数据在服务器端，Cookie在客户端</span><br><span class="line">		2. session没有数据大小限制，Cookie有</span><br><span class="line">		3. session数据安全，Cookie相对于不安全</span><br></pre></td></tr></table></figure>
<h2 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">1. 概念：</span><br><span class="line">	* 生活中的过滤器：净水器,空气净化器，土匪、</span><br><span class="line">	* web中的过滤器：当访问服务器的资源时，过滤器可以将请求拦截下来，完成一些特殊的功能。</span><br><span class="line">	* 过滤器的作用：</span><br><span class="line">		* 一般用于完成通用的操作。如：登录验证、统一编码处理、敏感字符过滤...</span><br><span class="line"></span><br><span class="line">2. 快速入门：</span><br><span class="line">	1. 步骤：</span><br><span class="line">		1. 定义一个类，实现接口Filter</span><br><span class="line">		2. 复写方法</span><br><span class="line">		3. 配置拦截路径</span><br><span class="line">			1. web.xml</span><br><span class="line">			2. 注解</span><br><span class="line">	2. 代码：</span><br><span class="line">		@WebFilter(&quot;&#x2F;*&quot;)&#x2F;&#x2F;访问所有资源之前，都会执行该过滤器</span><br><span class="line">		public class FilterDemo1 implements Filter &#123;</span><br><span class="line">		    @Override</span><br><span class="line">		    public void init(FilterConfig filterConfig) throws ServletException &#123;</span><br><span class="line">		</span><br><span class="line">		    &#125;</span><br><span class="line">		</span><br><span class="line">		    @Override</span><br><span class="line">		    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123;</span><br><span class="line">		        System.out.println(&quot;filterDemo1被执行了....&quot;);</span><br><span class="line">		        &#x2F;&#x2F;放行</span><br><span class="line">		        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">		</span><br><span class="line">		    &#125;</span><br><span class="line">		</span><br><span class="line">		    @Override</span><br><span class="line">		    public void destroy() &#123;</span><br><span class="line">		</span><br><span class="line">		    &#125;</span><br><span class="line">		&#125;</span><br><span class="line">3. 过滤器细节：</span><br><span class="line">	1. web.xml配置	</span><br><span class="line">		&lt;filter&gt;</span><br><span class="line">	        &lt;filter-name&gt;demo1&lt;&#x2F;filter-name&gt;</span><br><span class="line">	        &lt;filter-class&gt;cn.itcast.web.filter.FilterDemo1&lt;&#x2F;filter-class&gt;</span><br><span class="line">	    &lt;&#x2F;filter&gt;</span><br><span class="line">	    &lt;filter-mapping&gt;</span><br><span class="line">	        &lt;filter-name&gt;demo1&lt;&#x2F;filter-name&gt;</span><br><span class="line">			&lt;!-- 拦截路径 --&gt;</span><br><span class="line">	        &lt;url-pattern&gt;&#x2F;*&lt;&#x2F;url-pattern&gt;</span><br><span class="line">	    &lt;&#x2F;filter-mapping&gt;</span><br><span class="line">	2. 过滤器执行流程</span><br><span class="line">		1. 执行过滤器</span><br><span class="line">		2. 执行放行后的资源</span><br><span class="line">		3. 回来执行过滤器放行代码下边的代码</span><br><span class="line">	3. 过滤器生命周期方法</span><br><span class="line">		1. init:在服务器启动后，会创建Filter对象，然后调用init方法。只执行一次。用于加载资源</span><br><span class="line">		2. doFilter:每一次请求被拦截资源时，会执行。执行多次</span><br><span class="line">		3. destroy:在服务器关闭后，Filter对象被销毁。如果服务器是正常关闭，则会执行destroy方法。只执行一次。用于释放资源</span><br><span class="line">	4. 过滤器配置详解</span><br><span class="line">		* 拦截路径配置：</span><br><span class="line">			1. 具体资源路径： &#x2F;index.jsp   只有访问index.jsp资源时，过滤器才会被执行</span><br><span class="line">			2. 拦截目录： &#x2F;user&#x2F;*	访问&#x2F;user下的所有资源时，过滤器都会被执行</span><br><span class="line">			3. 后缀名拦截： *.jsp		访问所有后缀名为jsp资源时，过滤器都会被执行</span><br><span class="line">			4. 拦截所有资源：&#x2F;*		访问所有资源时，过滤器都会被执行</span><br><span class="line">		* 拦截方式配置：资源被访问的方式</span><br><span class="line">			* 注解配置：</span><br><span class="line">				* 设置dispatcherTypes属性</span><br><span class="line">					1. REQUEST：默认值。浏览器直接请求资源</span><br><span class="line">					2. FORWARD：转发访问资源</span><br><span class="line">					3. INCLUDE：包含访问资源</span><br><span class="line">					4. ERROR：错误跳转资源</span><br><span class="line">					5. ASYNC：异步访问资源</span><br><span class="line">			* web.xml配置</span><br><span class="line">				* 设置&lt;dispatcher&gt;&lt;&#x2F;dispatcher&gt;标签即可</span><br><span class="line">			</span><br><span class="line">	5. 过滤器链(配置多个过滤器)</span><br><span class="line">		* 执行顺序：如果有两个过滤器：过滤器1和过滤器2</span><br><span class="line">			1. 过滤器1</span><br><span class="line">			2. 过滤器2</span><br><span class="line">			3. 资源执行</span><br><span class="line">			4. 过滤器2</span><br><span class="line">			5. 过滤器1 </span><br><span class="line"></span><br><span class="line">		* 过滤器先后顺序问题：</span><br><span class="line">			1. 注解配置：按照类名的字符串比较规则比较，值小的先执行</span><br><span class="line">				* 如： AFilter 和 BFilter，AFilter就先执行了。</span><br><span class="line">			2. web.xml配置： &lt;filter-mapping&gt;谁定义在上边，谁先执行</span><br></pre></td></tr></table></figure>
<h2 id="Listener"><a href="#Listener" class="headerlink" title="Listener"></a>Listener</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">* 概念：web的三大组件之一。</span><br><span class="line">	* 事件监听机制</span><br><span class="line">		* 事件	：一件事情</span><br><span class="line">		* 事件源 ：事件发生的地方</span><br><span class="line">		* 监听器 ：一个对象</span><br><span class="line">		* 注册监听：将事件、事件源、监听器绑定在一起。 当事件源上发生某个事件后，执行监听器代码</span><br><span class="line">* ServletContextListener:监听ServletContext对象的创建和销毁</span><br><span class="line">	* 方法：</span><br><span class="line">		* void contextDestroyed(ServletContextEvent sce) ：ServletContext对象被销毁之前会调用该方法</span><br><span class="line">		* void contextInitialized(ServletContextEvent sce) ：ServletContext对象创建后会调用该方法</span><br><span class="line">	* 步骤：</span><br><span class="line">		1. 定义一个类，实现ServletContextListener接口</span><br><span class="line">		2. 复写方法</span><br><span class="line">		3. 配置</span><br><span class="line">			1. web.xml</span><br><span class="line">					&lt;listener&gt;</span><br><span class="line"> 					 &lt;listener-class&gt;cn.itcast.web.listener.ContextLoaderListener&lt;&#x2F;listener-class&gt;</span><br><span class="line"> 					 &lt;&#x2F;listener&gt;</span><br><span class="line">					* 指定初始化参数&lt;context-param&gt;</span><br><span class="line">			2. 注解：</span><br><span class="line">				* @WebListener</span><br></pre></td></tr></table></figure>
<h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">1. 概念： ASynchronous JavaScript And XML	异步的JavaScript 和 XML</span><br><span class="line">	1. 异步和同步：客户端和服务器端相互通信的基础上</span><br><span class="line">		* 客户端必须等待服务器端的响应。在等待的期间客户端不能做其他操作。</span><br><span class="line">		* 客户端不需要等待服务器端的响应。在服务器处理请求的过程中，客户端可以进行其他的操作。</span><br><span class="line"></span><br><span class="line">		Ajax 是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。 [1] </span><br><span class="line">		通过在后台与服务器进行少量数据交换，Ajax 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。</span><br><span class="line">		传统的网页（不使用 Ajax）如果需要更新内容，必须重载整个网页页面。</span><br><span class="line"></span><br><span class="line">		提升用户的体验</span><br><span class="line"></span><br><span class="line">2. 实现方式：</span><br><span class="line">	1. 原生的JS实现方式（了解）</span><br><span class="line">				 &#x2F;&#x2F;1.创建核心对象</span><br><span class="line">	            var xmlhttp;</span><br><span class="line">	            if (window.XMLHttpRequest)</span><br><span class="line">	            &#123;&#x2F;&#x2F; code for IE7+, Firefox, Chrome, Opera, Safari</span><br><span class="line">	                xmlhttp&#x3D;new XMLHttpRequest();</span><br><span class="line">	            &#125;</span><br><span class="line">	            else</span><br><span class="line">	            &#123;&#x2F;&#x2F; code for IE6, IE5</span><br><span class="line">	                xmlhttp&#x3D;new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">	            &#125;</span><br><span class="line">	</span><br><span class="line">	            &#x2F;&#x2F;2. 建立连接</span><br><span class="line">	            &#x2F;*</span><br><span class="line">	                参数：</span><br><span class="line">	                    1. 请求方式：GET、POST</span><br><span class="line">	                        * get方式，请求参数在URL后边拼接。send方法为空参</span><br><span class="line">	                        * post方式，请求参数在send方法中定义</span><br><span class="line">	                    2. 请求的URL：</span><br><span class="line">	                    3. 同步或异步请求：true（异步）或 false（同步）</span><br><span class="line">	</span><br><span class="line">	             *&#x2F;</span><br><span class="line">	            xmlhttp.open(&quot;GET&quot;,&quot;ajaxServlet?username&#x3D;tom&quot;,true);</span><br><span class="line">	</span><br><span class="line">	            &#x2F;&#x2F;3.发送请求</span><br><span class="line">	            xmlhttp.send();</span><br><span class="line">	</span><br><span class="line">	            &#x2F;&#x2F;4.接受并处理来自服务器的响应结果</span><br><span class="line">	            &#x2F;&#x2F;获取方式 ：xmlhttp.responseText</span><br><span class="line">	            &#x2F;&#x2F;什么时候获取？当服务器响应成功后再获取</span><br><span class="line">	</span><br><span class="line">	            &#x2F;&#x2F;当xmlhttp对象的就绪状态改变时，触发事件onreadystatechange。</span><br><span class="line">	            xmlhttp.onreadystatechange&#x3D;function()</span><br><span class="line">	            &#123;</span><br><span class="line">	                &#x2F;&#x2F;判断readyState就绪状态是否为4，判断status响应状态码是否为200</span><br><span class="line">	                if (xmlhttp.readyState&#x3D;&#x3D;4 &amp;&amp; xmlhttp.status&#x3D;&#x3D;200)</span><br><span class="line">	                &#123;</span><br><span class="line">	                   &#x2F;&#x2F;获取服务器的响应结果</span><br><span class="line">	                    var responseText &#x3D; xmlhttp.responseText;</span><br><span class="line">	                    alert(responseText);</span><br><span class="line">	                &#125;</span><br><span class="line">	            &#125;</span><br><span class="line">	2. JQeury实现方式</span><br><span class="line">		1. $.ajax()</span><br><span class="line">			* 语法：$.ajax(&#123;键值对&#125;);</span><br><span class="line">			 &#x2F;&#x2F;使用$.ajax()发送异步请求</span><br><span class="line">	            $.ajax(&#123;</span><br><span class="line">	                url:&quot;ajaxServlet1111&quot; , &#x2F;&#x2F; 请求路径</span><br><span class="line">	                type:&quot;POST&quot; , &#x2F;&#x2F;请求方式</span><br><span class="line">	                &#x2F;&#x2F;data: &quot;username&#x3D;jack&amp;age&#x3D;23&quot;,&#x2F;&#x2F;请求参数</span><br><span class="line">	                data:&#123;&quot;username&quot;:&quot;jack&quot;,&quot;age&quot;:23&#125;,</span><br><span class="line">	                success:function (data) &#123;</span><br><span class="line">	                    alert(data);</span><br><span class="line">	                &#125;,&#x2F;&#x2F;响应成功后的回调函数</span><br><span class="line">	                error:function () &#123;</span><br><span class="line">	                    alert(&quot;出错啦...&quot;)</span><br><span class="line">	                &#125;,&#x2F;&#x2F;表示如果请求响应出现错误，会执行的回调函数</span><br><span class="line">	</span><br><span class="line">	                dataType:&quot;text&quot;&#x2F;&#x2F;设置接受到的响应数据的格式</span><br><span class="line">	            &#125;);</span><br><span class="line">		2. $.get()：发送get请求</span><br><span class="line">			* 语法：$.get(url, [data], [callback], [type])</span><br><span class="line">				* 参数：</span><br><span class="line">					* url：请求路径</span><br><span class="line">					* data：请求参数</span><br><span class="line">					* callback：回调函数</span><br><span class="line">					* type：响应结果的类型</span><br><span class="line"></span><br><span class="line">		3. $.post()：发送post请求</span><br><span class="line">			* 语法：$.post(url, [data], [callback], [type])</span><br><span class="line">				* 参数：</span><br><span class="line">					* url：请求路径</span><br><span class="line">					* data：请求参数</span><br><span class="line">					* callback：回调函数</span><br><span class="line">					* type：响应结果的类型</span><br></pre></td></tr></table></figure>
<h2 id="Json"><a href="#Json" class="headerlink" title="Json"></a>Json</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">1. 概念： JavaScript Object Notation		JavaScript对象表示法</span><br><span class="line">	Person p &#x3D; new Person();</span><br><span class="line">	p.setName(&quot;张三&quot;);</span><br><span class="line">	p.setAge(23);</span><br><span class="line">	p.setGender(&quot;男&quot;);</span><br><span class="line"></span><br><span class="line">	var p &#x3D; &#123;&quot;name&quot;:&quot;张三&quot;,&quot;age&quot;:23,&quot;gender&quot;:&quot;男&quot;&#125;;</span><br><span class="line"></span><br><span class="line">	* json现在多用于存储和交换文本信息的语法</span><br><span class="line">	* 进行数据的传输</span><br><span class="line">	* JSON 比 XML 更小、更快，更易解析。</span><br><span class="line"></span><br><span class="line">2. 语法：</span><br><span class="line">	1. 基本规则</span><br><span class="line">		* 数据在名称&#x2F;值对中：json数据是由键值对构成的</span><br><span class="line">			* 键用引号(单双都行)引起来，也可以不使用引号</span><br><span class="line">			* 值得取值类型：</span><br><span class="line">				1. 数字（整数或浮点数）</span><br><span class="line">				2. 字符串（在双引号中）</span><br><span class="line">				3. 逻辑值（true 或 false）</span><br><span class="line">				4. 数组（在方括号中）	&#123;&quot;persons&quot;:[&#123;&#125;,&#123;&#125;]&#125;</span><br><span class="line">				5. 对象（在花括号中） &#123;&quot;address&quot;:&#123;&quot;province&quot;：&quot;陕西&quot;....&#125;&#125;</span><br><span class="line">				6. null</span><br><span class="line">		* 数据由逗号分隔：多个键值对由逗号分隔</span><br><span class="line">		* 花括号保存对象：使用&#123;&#125;定义json 格式</span><br><span class="line">		* 方括号保存数组：[]</span><br><span class="line">	2. 获取数据:</span><br><span class="line">		1. json对象.键名</span><br><span class="line">		2. json对象[&quot;键名&quot;]</span><br><span class="line">		3. 数组对象[索引]</span><br><span class="line">		4. 遍历</span><br><span class="line">				 &#x2F;&#x2F;1.定义基本格式</span><br><span class="line">		        var person &#x3D; &#123;&quot;name&quot;: &quot;张三&quot;, age: 23, &#39;gender&#39;: true&#125;;</span><br><span class="line">		</span><br><span class="line">		        var ps &#x3D; [&#123;&quot;name&quot;: &quot;张三&quot;, &quot;age&quot;: 23, &quot;gender&quot;: true&#125;,</span><br><span class="line">		            &#123;&quot;name&quot;: &quot;李四&quot;, &quot;age&quot;: 24, &quot;gender&quot;: true&#125;,</span><br><span class="line">		            &#123;&quot;name&quot;: &quot;王五&quot;, &quot;age&quot;: 25, &quot;gender&quot;: false&#125;];</span><br><span class="line">		        &#x2F;&#x2F;获取person对象中所有的键和值</span><br><span class="line">		        &#x2F;&#x2F;for in 循环</span><br><span class="line">		       &#x2F;* for(var key in person)&#123;</span><br><span class="line">		            &#x2F;&#x2F;这样的方式获取不行。因为相当于  person.&quot;name&quot;</span><br><span class="line">		            &#x2F;&#x2F;alert(key + &quot;:&quot; + person.key);</span><br><span class="line">		            alert(key+&quot;:&quot;+person[key]);</span><br><span class="line">		        &#125;*&#x2F;</span><br><span class="line">		</span><br><span class="line">		       &#x2F;&#x2F;获取ps中的所有值</span><br><span class="line">		        for (var i &#x3D; 0; i &lt; ps.length; i++) &#123;</span><br><span class="line">		            var p &#x3D; ps[i];</span><br><span class="line">		            for(var key in p)&#123;</span><br><span class="line">		                alert(key+&quot;:&quot;+p[key]);</span><br><span class="line">		            &#125;</span><br><span class="line">		        &#125;</span><br><span class="line">3. JSON数据和Java对象的相互转换</span><br><span class="line"></span><br><span class="line">	* JSON解析器：</span><br><span class="line">		* 常见的解析器：Jsonlib，Gson，fastjson，jackson</span><br><span class="line">	</span><br><span class="line">	1. JSON转为Java对象</span><br><span class="line">		1. 导入jackson的相关jar包</span><br><span class="line">		2. 创建Jackson核心对象 ObjectMapper</span><br><span class="line">		3. 调用ObjectMapper的相关方法进行转换</span><br><span class="line">			1. readValue(json字符串数据,Class)</span><br><span class="line">	2. Java对象转换JSON</span><br><span class="line">		1. 使用步骤：</span><br><span class="line">			1. 导入jackson的相关jar包</span><br><span class="line">			2. 创建Jackson核心对象 ObjectMapper</span><br><span class="line">			3. 调用ObjectMapper的相关方法进行转换</span><br><span class="line">				1. 转换方法：</span><br><span class="line">					* writeValue(参数1，obj):</span><br><span class="line">	                    参数1：</span><br><span class="line">	                        File：将obj对象转换为JSON字符串，并保存到指定的文件中</span><br><span class="line">	                        Writer：将obj对象转换为JSON字符串，并将json数据填充到字符输出流中</span><br><span class="line">	                        OutputStream：将obj对象转换为JSON字符串，并将json数据填充到字节输出流中</span><br><span class="line">	                * writeValueAsString(obj):将对象转为json字符串</span><br><span class="line"></span><br><span class="line">				2. 注解：</span><br><span class="line">					1. @JsonIgnore：排除属性。</span><br><span class="line">					2. @JsonFormat：属性值得格式化</span><br><span class="line">						* @JsonFormat(pattern &#x3D; &quot;yyyy-MM-dd&quot;)</span><br><span class="line"></span><br><span class="line">				3. 复杂java对象转换</span><br><span class="line">					1. List：数组</span><br><span class="line">					2. Map：对象格式一致</span><br></pre></td></tr></table></figure>
<h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br></pre></td><td class="code"><pre><span class="line">1. 概念： redis是一款高性能的NOSQL系列的非关系型数据库</span><br><span class="line">	1.1.什么是NOSQL</span><br><span class="line">		NoSQL(NoSQL &#x3D; Not Only SQL)，意即“不仅仅是SQL”，是一项全新的数据库理念，泛指非关系型的数据库。</span><br><span class="line">		随着互联网web2.0网站的兴起，传统的关系数据库在应付web2.0网站，特别是超大规模和高并发的SNS类型的web2.0纯动态网站已经显得力不从心，暴露了很多难以克服的问题，而非关系型的数据库则由于其本身的特点得到了非常迅速的发展。NoSQL数据库的产生就是为了解决大规模数据集合多重数据种类带来的挑战，尤其是大数据应用难题。</span><br><span class="line"></span><br><span class="line">		1.1.1.	NOSQL和关系型数据库比较</span><br><span class="line">			优点：</span><br><span class="line">				1）成本：nosql数据库简单易部署，基本都是开源软件，不需要像使用oracle那样花费大量成本购买使用，相比关系型数据库价格便宜。</span><br><span class="line">				2）查询速度：nosql数据库将数据存储于缓存之中，关系型数据库将数据存储在硬盘中，自然查询速度远不及nosql数据库。</span><br><span class="line">				3）存储数据的格式：nosql的存储格式是key,value形式、文档形式、图片形式等等，所以可以存储基础类型以及对象或者是集合等各种格式，而数据库则只支持基础类型。</span><br><span class="line">				4）扩展性：关系型数据库有类似join这样的多表查询机制的限制导致扩展很艰难。</span><br><span class="line"></span><br><span class="line">			缺点：</span><br><span class="line">				1）维护的工具和资料有限，因为nosql是属于新的技术，不能和关系型数据库10几年的技术同日而语。</span><br><span class="line">				2）不提供对sql的支持，如果不支持sql这样的工业标准，将产生一定用户的学习和使用成本。</span><br><span class="line">				3）不提供关系型数据库对事务的处理。</span><br><span class="line"></span><br><span class="line">		1.1.2.	非关系型数据库的优势：</span><br><span class="line">			1）性能NOSQL是基于键值对的，可以想象成表中的主键和值的对应关系，而且不需要经过SQL层的解析，所以性能非常高。</span><br><span class="line">			2）可扩展性同样也是因为基于键值对，数据之间没有耦合性，所以非常容易水平扩展。</span><br><span class="line"></span><br><span class="line">		1.1.3.	关系型数据库的优势：</span><br><span class="line">			1）复杂查询可以用SQL语句方便的在一个表以及多个表之间做非常复杂的数据查询。</span><br><span class="line">			2）事务支持使得对于安全性能很高的数据访问要求得以实现。对于这两类数据库，对方的优势就是自己的弱势，反之亦然。</span><br><span class="line"></span><br><span class="line">		1.1.4.	总结</span><br><span class="line">			关系型数据库与NoSQL数据库并非对立而是互补的关系，即通常情况下使用关系型数据库，在适合使用NoSQL的时候使用NoSQL数据库，</span><br><span class="line">			让NoSQL数据库对关系型数据库的不足进行弥补。</span><br><span class="line">			一般会将数据存储在关系型数据库中，在nosql数据库中备份存储关系型数据库的数据</span><br><span class="line"></span><br><span class="line">	1.2.主流的NOSQL产品</span><br><span class="line">		•	键值(Key-Value)存储数据库</span><br><span class="line">				相关产品： Tokyo Cabinet&#x2F;Tyrant、Redis、Voldemort、Berkeley DB</span><br><span class="line">				典型应用： 内容缓存，主要用于处理大量数据的高访问负载。 </span><br><span class="line">				数据模型： 一系列键值对</span><br><span class="line">				优势： 快速查询</span><br><span class="line">				劣势： 存储的数据缺少结构化</span><br><span class="line">		•	列存储数据库</span><br><span class="line">				相关产品：Cassandra, HBase, Riak</span><br><span class="line">				典型应用：分布式的文件系统</span><br><span class="line">				数据模型：以列簇式存储，将同一列数据存在一起</span><br><span class="line">				优势：查找速度快，可扩展性强，更容易进行分布式扩展</span><br><span class="line">				劣势：功能相对局限</span><br><span class="line">		•	文档型数据库</span><br><span class="line">				相关产品：CouchDB、MongoDB</span><br><span class="line">				典型应用：Web应用（与Key-Value类似，Value是结构化的）</span><br><span class="line">				数据模型： 一系列键值对</span><br><span class="line">				优势：数据结构要求不严格</span><br><span class="line">				劣势： 查询性能不高，而且缺乏统一的查询语法</span><br><span class="line">		•	图形(Graph)数据库</span><br><span class="line">				相关数据库：Neo4J、InfoGrid、Infinite Graph</span><br><span class="line">				典型应用：社交网络</span><br><span class="line">				数据模型：图结构</span><br><span class="line">				优势：利用图结构相关算法。</span><br><span class="line">				劣势：需要对整个图做计算才能得出结果，不容易做分布式的集群方案。</span><br><span class="line">	1.3 什么是Redis</span><br><span class="line">		Redis是用C语言开发的一个开源的高性能键值对（key-value）数据库，官方提供测试数据，50个并发执行100000个请求,读的速度是110000次&#x2F;s,写的速度是81000次&#x2F;s ，且Redis通过提供多种键值数据类型来适应不同场景下的存储需求，目前为止Redis支持的键值数据类型如下：</span><br><span class="line">			1) 字符串类型 string</span><br><span class="line">			2) 哈希类型 hash</span><br><span class="line">			3) 列表类型 list</span><br><span class="line">			4) 集合类型 set</span><br><span class="line">			5) 有序集合类型 sortedset</span><br><span class="line">		1.3.1 redis的应用场景</span><br><span class="line">			•	缓存（数据查询、短连接、新闻内容、商品内容等等）</span><br><span class="line">			•	聊天室的在线好友列表</span><br><span class="line">			•	任务队列。（秒杀、抢购、12306等等）</span><br><span class="line">			•	应用排行榜</span><br><span class="line">			•	网站访问统计</span><br><span class="line">			•	数据过期处理（可以精确到毫秒</span><br><span class="line">			•	分布式集群架构中的session分离</span><br><span class="line">2. 下载安装</span><br><span class="line">	1. 官网：https:&#x2F;&#x2F;redis.io</span><br><span class="line">	2. 中文网：http:&#x2F;&#x2F;www.redis.net.cn&#x2F;</span><br><span class="line">	3. 解压直接可以使用：</span><br><span class="line">		* redis.windows.conf：配置文件</span><br><span class="line">		* redis-cli.exe：redis的客户端</span><br><span class="line">		* redis-server.exe：redis服务器端</span><br><span class="line">	</span><br><span class="line">3. 命令操作</span><br><span class="line">	1. redis的数据结构：</span><br><span class="line">		* redis存储的是：key,value格式的数据，其中key都是字符串，value有5种不同的数据结构</span><br><span class="line">			* value的数据结构：</span><br><span class="line">				1) 字符串类型 string</span><br><span class="line">				2) 哈希类型 hash ： map格式  </span><br><span class="line">				3) 列表类型 list ： linkedlist格式。支持重复元素</span><br><span class="line">				4) 集合类型 set  ： 不允许重复元素</span><br><span class="line">				5) 有序集合类型 sortedset：不允许重复元素，且元素有顺序</span><br><span class="line">	</span><br><span class="line">	2. 字符串类型 string</span><br><span class="line">		1. 存储： set key value</span><br><span class="line">			127.0.0.1:6379&gt; set username zhangsan</span><br><span class="line">			OK</span><br><span class="line">		2. 获取： get key</span><br><span class="line">			127.0.0.1:6379&gt; get username</span><br><span class="line">			&quot;zhangsan&quot;</span><br><span class="line">		3. 删除： del key</span><br><span class="line">			127.0.0.1:6379&gt; del age</span><br><span class="line">			(integer) 1</span><br><span class="line">	3. 哈希类型 hash</span><br><span class="line">		1. 存储： hset key field value</span><br><span class="line">			127.0.0.1:6379&gt; hset myhash username lisi</span><br><span class="line">			(integer) 1</span><br><span class="line">			127.0.0.1:6379&gt; hset myhash password 123</span><br><span class="line">			(integer) 1</span><br><span class="line">		2. 获取： </span><br><span class="line">			* hget key field: 获取指定的field对应的值</span><br><span class="line">				127.0.0.1:6379&gt; hget myhash username</span><br><span class="line">				&quot;lisi&quot;</span><br><span class="line">			* hgetall key：获取所有的field和value</span><br><span class="line">				127.0.0.1:6379&gt; hgetall myhash</span><br><span class="line">				1) &quot;username&quot;</span><br><span class="line">				2) &quot;lisi&quot;</span><br><span class="line">				3) &quot;password&quot;</span><br><span class="line">				4) &quot;123&quot;</span><br><span class="line">				</span><br><span class="line">		3. 删除： hdel key field</span><br><span class="line">			127.0.0.1:6379&gt; hdel myhash username</span><br><span class="line">			(integer) 1</span><br><span class="line">	</span><br><span class="line">	4. 列表类型 list:可以添加一个元素到列表的头部（左边）或者尾部（右边）</span><br><span class="line">		1. 添加：</span><br><span class="line">			1. lpush key value: 将元素加入列表左表</span><br><span class="line">				</span><br><span class="line">			2. rpush key value：将元素加入列表右边</span><br><span class="line">				</span><br><span class="line">				127.0.0.1:6379&gt; lpush myList a</span><br><span class="line">				(integer) 1</span><br><span class="line">				127.0.0.1:6379&gt; lpush myList b</span><br><span class="line">				(integer) 2</span><br><span class="line">				127.0.0.1:6379&gt; rpush myList c</span><br><span class="line">				(integer) 3</span><br><span class="line">		2. 获取：</span><br><span class="line">			* lrange key start end ：范围获取</span><br><span class="line">				127.0.0.1:6379&gt; lrange myList 0 -1</span><br><span class="line">				1) &quot;b&quot;</span><br><span class="line">				2) &quot;a&quot;</span><br><span class="line">				3) &quot;c&quot;</span><br><span class="line">		3. 删除：</span><br><span class="line">			* lpop key： 删除列表最左边的元素，并将元素返回</span><br><span class="line">			* rpop key： 删除列表最右边的元素，并将元素返回</span><br><span class="line">	5. 集合类型 set ： 不允许重复元素</span><br><span class="line">		1. 存储：sadd key value</span><br><span class="line">			127.0.0.1:6379&gt; sadd myset a</span><br><span class="line">			(integer) 1</span><br><span class="line">			127.0.0.1:6379&gt; sadd myset a</span><br><span class="line">			(integer) 0</span><br><span class="line">		2. 获取：smembers key:获取set集合中所有元素</span><br><span class="line">			127.0.0.1:6379&gt; smembers myset</span><br><span class="line">			1) &quot;a&quot;</span><br><span class="line">		3. 删除：srem key value:删除set集合中的某个元素	</span><br><span class="line">			127.0.0.1:6379&gt; srem myset a</span><br><span class="line">			(integer) 1</span><br><span class="line">	6. 有序集合类型 sortedset：不允许重复元素，且元素有顺序.每个元素都会关联一个double类型的分数。redis正是通过分数来为集合中的成员进行从小到大的排序。</span><br><span class="line"></span><br><span class="line">		1. 存储：zadd key score value</span><br><span class="line">			127.0.0.1:6379&gt; zadd mysort 60 zhangsan</span><br><span class="line">			(integer) 1</span><br><span class="line">			127.0.0.1:6379&gt; zadd mysort 50 lisi</span><br><span class="line">			(integer) 1</span><br><span class="line">			127.0.0.1:6379&gt; zadd mysort 80 wangwu</span><br><span class="line">			(integer) 1</span><br><span class="line">		2. 获取：zrange key start end [withscores]</span><br><span class="line">			127.0.0.1:6379&gt; zrange mysort 0 -1</span><br><span class="line">			1) &quot;lisi&quot;</span><br><span class="line">			2) &quot;zhangsan&quot;</span><br><span class="line">			3) &quot;wangwu&quot;</span><br><span class="line"></span><br><span class="line">			127.0.0.1:6379&gt; zrange mysort 0 -1 withscores</span><br><span class="line">			1) &quot;zhangsan&quot;</span><br><span class="line">			2) &quot;60&quot;</span><br><span class="line">			3) &quot;wangwu&quot;</span><br><span class="line">			4) &quot;80&quot;</span><br><span class="line">			5) &quot;lisi&quot;</span><br><span class="line">			6) &quot;500&quot;</span><br><span class="line">		3. 删除：zrem key value</span><br><span class="line">			127.0.0.1:6379&gt; zrem mysort lisi</span><br><span class="line">			(integer) 1</span><br><span class="line"></span><br><span class="line">	7. 通用命令</span><br><span class="line">		1. keys * : 查询所有的键</span><br><span class="line">		2. type key ： 获取键对应的value的类型</span><br><span class="line">		3. del key：删除指定的key value</span><br><span class="line">4. 持久化</span><br><span class="line">	1. redis是一个内存数据库，当redis服务器重启，获取电脑重启，数据会丢失，我们可以将redis内存中的数据持久化保存到硬盘的文件中。</span><br><span class="line">	2. redis持久化机制：</span><br><span class="line">		1. RDB：默认方式，不需要进行配置，默认就使用这种机制</span><br><span class="line">			* 在一定的间隔时间中，检测key的变化情况，然后持久化数据</span><br><span class="line">			1. 编辑redis.windwos.conf文件</span><br><span class="line">				#   after 900 sec (15 min) if at least 1 key changed</span><br><span class="line">				save 900 1</span><br><span class="line">				#   after 300 sec (5 min) if at least 10 keys changed</span><br><span class="line">				save 300 10</span><br><span class="line">				#   after 60 sec if at least 10000 keys changed</span><br><span class="line">				save 60 10000</span><br><span class="line">				</span><br><span class="line">			2. 重新启动redis服务器，并指定配置文件名称</span><br><span class="line">				D:\JavaWeb2018\day23_redis\资料\redis\windows-64\redis-2.8.9&gt;redis-server.exe redis.windows.conf	</span><br><span class="line">			</span><br><span class="line">		2. AOF：日志记录的方式，可以记录每一条命令的操作。可以每一次命令操作后，持久化数据</span><br><span class="line">			1. 编辑redis.windwos.conf文件</span><br><span class="line">				appendonly no（关闭aof） --&gt; appendonly yes （开启aof）</span><br><span class="line">				</span><br><span class="line">				# appendfsync always ： 每一次操作都进行持久化</span><br><span class="line">				appendfsync everysec ： 每隔一秒进行一次持久化</span><br><span class="line">				# appendfsync no	 ： 不进行持久化</span><br><span class="line"></span><br><span class="line">5. Java客户端 Jedis</span><br><span class="line">	* Jedis: 一款java操作redis数据库的工具.</span><br><span class="line">	* 使用步骤：</span><br><span class="line">		1. 下载jedis的jar包</span><br><span class="line">		2. 使用</span><br><span class="line">			&#x2F;&#x2F;1. 获取连接</span><br><span class="line">    		Jedis jedis &#x3D; new Jedis(&quot;localhost&quot;,6379);</span><br><span class="line">   			&#x2F;&#x2F;2. 操作</span><br><span class="line">   			jedis.set(&quot;username&quot;,&quot;zhangsan&quot;);</span><br><span class="line">    		&#x2F;&#x2F;3. 关闭连接</span><br><span class="line">    		jedis.close();</span><br><span class="line">	* Jedis操作各种redis中的数据结构</span><br><span class="line">		1) 字符串类型 string</span><br><span class="line">			set</span><br><span class="line">			get</span><br><span class="line">			</span><br><span class="line">			 &#x2F;&#x2F;1. 获取连接</span><br><span class="line">	        Jedis jedis &#x3D; new Jedis();&#x2F;&#x2F;如果使用空参构造，默认值 &quot;localhost&quot;,6379端口</span><br><span class="line">	        &#x2F;&#x2F;2. 操作</span><br><span class="line">	        &#x2F;&#x2F;存储</span><br><span class="line">	        jedis.set(&quot;username&quot;,&quot;zhangsan&quot;);</span><br><span class="line">	        &#x2F;&#x2F;获取</span><br><span class="line">	        String username &#x3D; jedis.get(&quot;username&quot;);</span><br><span class="line">	        System.out.println(username);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F;可以使用setex()方法存储可以指定过期时间的 key value</span><br><span class="line">	        jedis.setex(&quot;activecode&quot;,20,&quot;hehe&quot;);&#x2F;&#x2F;将activecode：hehe键值对存入redis，并且20秒后自动删除该键值对</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F;3. 关闭连接</span><br><span class="line">	        jedis.close();</span><br><span class="line"></span><br><span class="line">		2) 哈希类型 hash ： map格式  </span><br><span class="line">			hset</span><br><span class="line">			hget</span><br><span class="line">			hgetAll</span><br><span class="line">			&#x2F;&#x2F;1. 获取连接</span><br><span class="line">	        Jedis jedis &#x3D; new Jedis();&#x2F;&#x2F;如果使用空参构造，默认值 &quot;localhost&quot;,6379端口</span><br><span class="line">	        &#x2F;&#x2F;2. 操作</span><br><span class="line">	        &#x2F;&#x2F; 存储hash</span><br><span class="line">	        jedis.hset(&quot;user&quot;,&quot;name&quot;,&quot;lisi&quot;);</span><br><span class="line">	        jedis.hset(&quot;user&quot;,&quot;age&quot;,&quot;23&quot;);</span><br><span class="line">	        jedis.hset(&quot;user&quot;,&quot;gender&quot;,&quot;female&quot;);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F; 获取hash</span><br><span class="line">	        String name &#x3D; jedis.hget(&quot;user&quot;, &quot;name&quot;);</span><br><span class="line">	        System.out.println(name);</span><br><span class="line">	        &#x2F;&#x2F; 获取hash的所有map中的数据</span><br><span class="line">	        Map&lt;String, String&gt; user &#x3D; jedis.hgetAll(&quot;user&quot;);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F; keyset</span><br><span class="line">	        Set&lt;String&gt; keySet &#x3D; user.keySet();</span><br><span class="line">	        for (String key : keySet) &#123;</span><br><span class="line">	            &#x2F;&#x2F;获取value</span><br><span class="line">	            String value &#x3D; user.get(key);</span><br><span class="line">	            System.out.println(key + &quot;:&quot; + value);</span><br><span class="line">	        &#125;</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F;3. 关闭连接</span><br><span class="line">	        jedis.close();</span><br><span class="line">		3) 列表类型 list ： linkedlist格式。支持重复元素</span><br><span class="line">			lpush &#x2F; rpush</span><br><span class="line">			lpop &#x2F; rpop</span><br><span class="line">			lrange start end : 范围获取</span><br><span class="line">			</span><br><span class="line">			 &#x2F;&#x2F;1. 获取连接</span><br><span class="line">	        Jedis jedis &#x3D; new Jedis();&#x2F;&#x2F;如果使用空参构造，默认值 &quot;localhost&quot;,6379端口</span><br><span class="line">	        &#x2F;&#x2F;2. 操作</span><br><span class="line">	        &#x2F;&#x2F; list 存储</span><br><span class="line">	        jedis.lpush(&quot;mylist&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;);&#x2F;&#x2F;从左边存</span><br><span class="line">	        jedis.rpush(&quot;mylist&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;);&#x2F;&#x2F;从右边存</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F; list 范围获取</span><br><span class="line">	        List&lt;String&gt; mylist &#x3D; jedis.lrange(&quot;mylist&quot;, 0, -1);</span><br><span class="line">	        System.out.println(mylist);</span><br><span class="line">	        </span><br><span class="line">	        &#x2F;&#x2F; list 弹出</span><br><span class="line">	        String element1 &#x3D; jedis.lpop(&quot;mylist&quot;);&#x2F;&#x2F;c</span><br><span class="line">	        System.out.println(element1);</span><br><span class="line">	</span><br><span class="line">	        String element2 &#x3D; jedis.rpop(&quot;mylist&quot;);&#x2F;&#x2F;c</span><br><span class="line">	        System.out.println(element2);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F; list 范围获取</span><br><span class="line">	        List&lt;String&gt; mylist2 &#x3D; jedis.lrange(&quot;mylist&quot;, 0, -1);</span><br><span class="line">	        System.out.println(mylist2);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F;3. 关闭连接</span><br><span class="line">	        jedis.close();</span><br><span class="line">		4) 集合类型 set  ： 不允许重复元素</span><br><span class="line">			sadd</span><br><span class="line">			smembers:获取所有元素</span><br><span class="line"></span><br><span class="line">			&#x2F;&#x2F;1. 获取连接</span><br><span class="line">	        Jedis jedis &#x3D; new Jedis();&#x2F;&#x2F;如果使用空参构造，默认值 &quot;localhost&quot;,6379端口</span><br><span class="line">	        &#x2F;&#x2F;2. 操作</span><br><span class="line">	        &#x2F;&#x2F; set 存储</span><br><span class="line">	        jedis.sadd(&quot;myset&quot;,&quot;java&quot;,&quot;php&quot;,&quot;c++&quot;);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F; set 获取</span><br><span class="line">	        Set&lt;String&gt; myset &#x3D; jedis.smembers(&quot;myset&quot;);</span><br><span class="line">	        System.out.println(myset);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F;3. 关闭连接</span><br><span class="line">	        jedis.close();</span><br><span class="line">		5) 有序集合类型 sortedset：不允许重复元素，且元素有顺序</span><br><span class="line">			zadd</span><br><span class="line">			zrange</span><br><span class="line"></span><br><span class="line">			&#x2F;&#x2F;1. 获取连接</span><br><span class="line">	        Jedis jedis &#x3D; new Jedis();&#x2F;&#x2F;如果使用空参构造，默认值 &quot;localhost&quot;,6379端口</span><br><span class="line">	        &#x2F;&#x2F;2. 操作</span><br><span class="line">	        &#x2F;&#x2F; sortedset 存储</span><br><span class="line">	        jedis.zadd(&quot;mysortedset&quot;,3,&quot;亚瑟&quot;);</span><br><span class="line">	        jedis.zadd(&quot;mysortedset&quot;,30,&quot;后裔&quot;);</span><br><span class="line">	        jedis.zadd(&quot;mysortedset&quot;,55,&quot;孙悟空&quot;);</span><br><span class="line">	</span><br><span class="line">	        &#x2F;&#x2F; sortedset 获取</span><br><span class="line">	        Set&lt;String&gt; mysortedset &#x3D; jedis.zrange(&quot;mysortedset&quot;, 0, -1);</span><br><span class="line">	</span><br><span class="line">	        System.out.println(mysortedset);</span><br><span class="line">	        &#x2F;&#x2F;3. 关闭连接</span><br><span class="line">	        jedis.close();</span><br><span class="line">	* jedis连接池： JedisPool</span><br><span class="line">		* 使用：</span><br><span class="line">			1. 创建JedisPool连接池对象</span><br><span class="line">			2. 调用方法 getResource()方法获取Jedis连接</span><br><span class="line">				&#x2F;&#x2F;0.创建一个配置对象</span><br><span class="line">		        JedisPoolConfig config &#x3D; new JedisPoolConfig();</span><br><span class="line">		        config.setMaxTotal(50);</span><br><span class="line">		        config.setMaxIdle(10);</span><br><span class="line">		</span><br><span class="line">		        &#x2F;&#x2F;1.创建Jedis连接池对象</span><br><span class="line">		        JedisPool jedisPool &#x3D; new JedisPool(config,&quot;localhost&quot;,6379);</span><br><span class="line">		</span><br><span class="line">		        &#x2F;&#x2F;2.获取连接</span><br><span class="line">		        Jedis jedis &#x3D; jedisPool.getResource();</span><br><span class="line">		        &#x2F;&#x2F;3. 使用</span><br><span class="line">		        jedis.set(&quot;hehe&quot;,&quot;heihei&quot;);</span><br><span class="line">		        &#x2F;&#x2F;4. 关闭 归还到连接池中</span><br><span class="line">		        jedis.close();</span><br><span class="line">		</span><br><span class="line">		* 连接池工具类</span><br><span class="line">			public class JedisPoolUtils &#123;</span><br><span class="line"></span><br><span class="line">			    private static JedisPool jedisPool;</span><br><span class="line">			</span><br><span class="line">			    static&#123;</span><br><span class="line">			        &#x2F;&#x2F;读取配置文件</span><br><span class="line">			        InputStream is &#x3D; JedisPoolUtils.class.getClassLoader().getResourceAsStream(&quot;jedis.properties&quot;);</span><br><span class="line">			        &#x2F;&#x2F;创建Properties对象</span><br><span class="line">			        Properties pro &#x3D; new Properties();</span><br><span class="line">			        &#x2F;&#x2F;关联文件</span><br><span class="line">			        try &#123;</span><br><span class="line">			            pro.load(is);</span><br><span class="line">			        &#125; catch (IOException e) &#123;</span><br><span class="line">			            e.printStackTrace();</span><br><span class="line">			        &#125;</span><br><span class="line">			        &#x2F;&#x2F;获取数据，设置到JedisPoolConfig中</span><br><span class="line">			        JedisPoolConfig config &#x3D; new JedisPoolConfig();</span><br><span class="line">			        config.setMaxTotal(Integer.parseInt(pro.getProperty(&quot;maxTotal&quot;)));</span><br><span class="line">			        config.setMaxIdle(Integer.parseInt(pro.getProperty(&quot;maxIdle&quot;)));</span><br><span class="line">			</span><br><span class="line">			        &#x2F;&#x2F;初始化JedisPool</span><br><span class="line">			        jedisPool &#x3D; new JedisPool(config,pro.getProperty(&quot;host&quot;),Integer.parseInt(pro.getProperty(&quot;port&quot;)));</span><br><span class="line">			    &#125;  </span><br><span class="line">			    &#x2F;**</span><br><span class="line">			     * 获取连接方法</span><br><span class="line">			     *&#x2F;</span><br><span class="line">			    public static Jedis getJedis()&#123;</span><br><span class="line">			        return jedisPool.getResource();</span><br><span class="line">			    &#125;</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>Title:</span><a href="/2021/07/25/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">JavaWeb 学习笔记</a></p>
        <p><span>Author:</span><a href="/" title="Back to Homepage"></a></p>
        <p><span>Created:</span>2021-07-25, 21:37:28</p>
        <p><span>Updated:</span>2021-10-06, 00:17:22</p>
        <p>
            <span>Full URL:</span><a class="post-url" href="/2021/07/25/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="JavaWeb 学习笔记">http://example.com/2021/07/25/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a>
            <span class="copy-path" data-clipboard-text="From http://example.com/2021/07/25/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/　　By " title="Copy Article&#39;s Link &amp; Author"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>License:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"CC BY-NC-SA 4.0"</a> Keep Link &amp; Author if Distribute.
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2021/07/25/%E5%8F%A4%E8%AF%97%E8%AF%8D%E9%9B%86%E5%90%88/">
                    古诗词集合
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2021/07/24/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/">
                    程序员常用指令
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaWeb-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">JavaWeb 学习笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Junit"><span class="toc-number">1.1.</span> <span class="toc-text">Junit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84"><span class="toc-number">1.2.</span> <span class="toc-text">反射</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.3.</span> <span class="toc-text">注解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JDBC"><span class="toc-number">1.4.</span> <span class="toc-text">JDBC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E5%8F%96JDBC%E5%B7%A5%E5%85%B7%E7%B1%BB-%EF%BC%9A-JDBCUtils"><span class="toc-number">1.4.1.</span> <span class="toc-text">抽取JDBC工具类 ： JDBCUtils</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JDBC%E6%8E%A7%E5%88%B6%E4%BA%8B%E5%8A%A1%EF%BC%9A"><span class="toc-number">1.4.2.</span> <span class="toc-text">JDBC控制事务：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-number">1.5.</span> <span class="toc-text">数据库连接池</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JDBC-template"><span class="toc-number">1.5.1.</span> <span class="toc-text">JDBC template</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Xml"><span class="toc-number">1.6.</span> <span class="toc-text">Xml</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Dtd"><span class="toc-number">1.6.1.</span> <span class="toc-text">Dtd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Schema"><span class="toc-number">1.6.2.</span> <span class="toc-text">Schema</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90xml"><span class="toc-number">1.6.3.</span> <span class="toc-text">解析xml</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tomcat"><span class="toc-number">1.7.</span> <span class="toc-text">Tomcat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet"><span class="toc-number">1.8.</span> <span class="toc-text">Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Http"><span class="toc-number">1.8.1.</span> <span class="toc-text">Http</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Request"><span class="toc-number">1.8.2.</span> <span class="toc-text">Request</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Response"><span class="toc-number">1.8.3.</span> <span class="toc-text">Response</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ServletContext"><span class="toc-number">1.8.4.</span> <span class="toc-text">ServletContext</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF"><span class="toc-number">1.9.</span> <span class="toc-text">会话技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie"><span class="toc-number">1.9.1.</span> <span class="toc-text">Cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Session"><span class="toc-number">1.9.2.</span> <span class="toc-text">Session</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filter"><span class="toc-number">1.10.</span> <span class="toc-text">Filter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Listener"><span class="toc-number">1.11.</span> <span class="toc-text">Listener</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ajax"><span class="toc-number">1.12.</span> <span class="toc-text">Ajax</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Json"><span class="toc-number">1.13.</span> <span class="toc-text">Json</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis"><span class="toc-number">1.14.</span> <span class="toc-text">Redis</span></a></li></ol></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="Hide"  title="Show or Hide Table of Contents">

    <script>
        yiliaConfig.toc = ["Hide", "Show", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"JavaWeb 学习笔记　| 宿醉的个人博客　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2021/07/25/%E5%8F%A4%E8%AF%97%E8%AF%8D%E9%9B%86%E5%90%88/" title="Pre: 古诗词集合">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="Mini Archives"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2021/07/24/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/" title="Next: 程序员常用指令">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/10/30/tomcat%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">tomcat基础知识</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/29/tomcat%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98/">tomcat路径问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/11/tomcat403%E9%97%AE%E9%A2%98/">tomcat403问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/10/10/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/">服务器项目部署</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/29/Markdown%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/">Markdown项目实战</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/21/ssm%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%A8%A1%E6%9D%BF/">SSM项目配置文件模板</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/09/17/%E7%BB%9D%E9%A1%B6%E8%81%AA%E6%98%8E%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/">绝顶聪明2.0管理系统</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/08/26/vue%E5%AD%A6%E4%B9%A0/">VUE课堂笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/08/07/%E6%96%87%E5%AD%A6%E5%B8%B8%E8%AF%86/">中华文学常识</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/07/25/%E5%8F%A4%E8%AF%97%E8%AF%8D%E9%9B%86%E5%90%88/">古诗词集合</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/07/25/JavaWeb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">JavaWeb 学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/07/24/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/">程序员常用指令</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/07/01/markdown%E5%AD%A6%E4%B9%A0/">MarkDown 学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/22/%E5%9B%BD%E5%A3%AB%E6%97%A0%E5%8F%8C/">国士无双</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/14/java%E7%BB%83%E4%B9%A0/">java特性合集</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/13/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%88java+mysql%EF%BC%89/">学生管理系统（java+mysql）</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/20/MySQL%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6/">MySQL  BUG集锦</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/06/MySQL%E5%AD%A6%E4%B9%A0/">MySQL 学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/24/%E6%96%87%E6%91%98/">文摘</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/24/%E4%B8%89%E8%A7%82/">何谓“三观”</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/03/03/C%E8%AF%AD%E8%A8%80%E4%B8%ADfun1()%E5%92%8Cfun2(void)%E7%9A%84%E5%8C%BA%E5%88%AB/">C语言中fun1()和fun2(void)的区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/26/Anaconda%E7%8E%AF%E5%A2%83%E7%9A%84%E9%85%8D%E7%BD%AE%EF%BC%88winlinux%EF%BC%89/">Anaconda环境的配置（win/linux）</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/26/Linux%E4%B8%8Bpycharm%E7%A0%B4%E8%A7%A3%E7%89%88%E7%9A%84%E5%AE%89%E8%A3%85/">Linux下pycharm破解版的安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/26/Xshell+Xftp%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8/">Xshell+Xftp管理服务器</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/26/hexo+github%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%9A%84%E6%90%AD%E5%BB%BA/">hexo+github个人博客的搭建</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/23/Ubuntu%E4%B8%8B%E8%A7%82%E7%9C%8BB%E7%AB%99%E8%A7%86%E9%A2%91/">Ubuntu下观看B站视频</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/21/PIP%E5%88%87%E6%8D%A2%E9%95%9C%E5%83%8F%E6%BA%90/">PIP切换镜像源</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/18/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">我的第一篇个人博客</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2021 John Doe
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>